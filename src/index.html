<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimal-ui">
    <meta name="format-detection" content="telephone=no"/>
    <meta name="x5-orientation"content="portrait">
    <META HTTP-EQUIV="pragma" CONTENT="no-cache">
    <META HTTP-EQUIV="Cache-Control" CONTENT="no-cache, must-revalidate">
    <META HTTP-EQUIV="expires" CONTENT="0">
    <link href="assets/css/Font-Awesome-3.2.1/css/font-awesome.min.css" rel="stylesheet">
    <link href="//cdn.bootcss.com/Swiper/3.4.0/css/swiper.min.css" rel="stylesheet">
    <link href="//cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet">
    <link href="//cdn.bootcss.com/weui/1.1.1/style/weui.css" rel="stylesheet">
    <link href="assets/css/iconfont/iconfont.css" rel="stylesheet">
    <link href="assets/css/iconcode/iconcode.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/weui.css">
    <link rel="stylesheet" href="assets/css/total.css">
    <link rel="stylesheet" href="assets/css/common.css">
    <link rel="stylesheet" href="assets/css/red_bag.css">
    <link rel="stylesheet" href="assets/css_old/information.css" />
    <script src="assets/js/custom/util.js"></script>
    <script>
        var IMAGE_SERVICE = null;
        var baseUrl = getParam("baseUrl");
        //baseUrl = "http://test0001.tt.com:8081";
    </script>
</head>

<body style="background-color: #1b1a1f">
<div id="main-page">
    <div id="content-home">
        <component :is="page+'-page'" :shop.sync="shop" :customer.sync="customer" :otherdata.sync="otherdata"
                   :noticelist.sync="hasNotice"></component>
    </div>
    <div class="bottom-fxied" id="main-menu" style="display: none;">
        <ul id="ul-menu">
            <li v-for="menu in menuList" @click="changePage(menu)" :class="{cur:page==menu.name}">
                <i></i>
                <span>{{menu.title}}</span>
            </li>
        </ul>
    </div>

    <share-dialog :show.sync="shareDialog.show" :isshare="shareDialog.isshare" :appraise="shareDialog.appraise"
                  :setting="shareDialog.setting"></share-dialog>

    <bind-phone :show.sync="showBindPhone" :content="allSetting.customerRegisterTitle"></bind-phone>

    <weui_dialog_confirm :show.sync="confirmDialogShow" :option="dialogOptions"></weui_dialog_confirm>

    <charge-dialog :show.sync="chargeDialog.show" :charge-list="chargeDialog.chargeList"></charge-dialog>

    <pay-dialog :show.sync="payAlter.show" :order.sync="payAlter.order"></pay-dialog>

    <order-detailed-dialog :show.sync="customNewOrder.show" :order.sync="customNewOrder.order" :customer="customer"
                           :shop="shop" :option="customNewOrder.option"></order-detailed-dialog>

    <order-detailed-dialog-houfu :show.sync="customNewOrderHouFu.show" :order.sync="customNewOrderHouFu.order"
                                 :customer="customer" :shop="shop"
                                 :option="customNewOrderHouFu.option"></order-detailed-dialog-houfu>

    <order-appraise-dialog :show.sync="appraiseOrder.show" :order.sync="appraiseOrder.order"></order-appraise-dialog>	<!--老的评论模式-->

    <red-papper-dialog :show.sync="redPapperDialog.show" :name="redPapperDialog.name" :title="redPapperDialog.title"
                       :customer="redPapperDialog.customer" @open="redPapperOpen(redPapperDialog.order)"></red-papper-dialog>

    <red-papper-dialog-registered :show.sync="redPapperRegisteredDialog.show" :name.sync="redPapperRegisteredDialog.name"
                                  :title.sync="redPapperRegisteredDialog.title"
                                  @open="openRegisteredPapper()"></red-papper-dialog-registered>

    <red-papper-open :show.sync="redOpenDialog.show" :allowshare="redOpenDialog.allowshare" :name="redOpenDialog.name" :title="redOpenDialog.title"
                     :appraise="redOpenDialog.appraise" :money="redOpenDialog.money" :order="redOpenDialog.order"></red-papper-open>

    <reward-dialog :show.sync="rewardDialog.show" :appraise="rewardDialog.appraise"></reward-dialog>

    <iframe-dialog :show.sync="iframeDialog.show" :src="iframeDialog.src"></iframe-dialog>

    <callnumber-dialog :show.sync="callNumberDialog.show" :order="callNumberDialog.order"
                       :customer="customer"></callnumber-dialog>

    <notice-dialog :show.sync="noticeDialog.show" :notice.sync="noticeDialog.notice" :noticelist.sync="noticeDialog.noticelist" ></notice-dialog>

    <noticelist-dialog :show.sync="noticeListDialog.show" :noticelist="noticeListDialog.noticelist"></noticelist-dialog>

    <shoplist-dialog-big :show.sync="shopListDialogBig.show" :shoplist="shopListDialogBig.shoplist" :subpage="shopListDialogBig.subpage"></shoplist-dialog-big>

    <weui_alter :show.sync="wAlter.show" :title="wAlter.title" :content="wAlter.content" :type="wAlter.type" :order="wAlter.order"></weui_alter>

    <weui-dialog :show.sync="wMessage.show" :msg="wMessage.message" :type="wMessage.type" ></weui-dialog>

    <weui-loading :show.sync="loadShow"></weui-loading>

    <weui-registered-successful :show.sync="myBirthdayGift.show"></weui-registered-successful> <!--注册成功领取优惠券-->

    <open-birthdaygift :show.sync="openBirthdayGift.show"></open-birthdaygift> <!--领取生日大礼包-->

    <current-time-coupon :coupons.sync="currentCoupon.coupons" :show.sync="currentCoupon.show"></current-time-coupon> <!--实时优惠券-->

    <share-coupon :show.sync="myShareCoupon.show" :sharecoupons.sync="myShareCoupon.sharecoupons"></share-coupon> <!--分享优惠券-->

    <iframe-dialog-code :show.sync="iframeDialogCode.show" :customer.sync="iframeDialogCode.customer"></iframe-dialog-code> <!--个人二维码弹窗-->

    <choice-shop :show.sync="changeShop.show" :mode="allSetting.switchMode"></choice-shop>	<!--选择店铺界面-->

   	<shop-closed :show.sync="shopClose.show" :shop="shop"></shop-closed>	<!--店铺打烊提示-->

   	<new-appraise-dialog :show.sync="newAppraiseDialog.show" :order.sync="newAppraiseDialog.order"></new-appraise-dialog>	<!--店铺打烊提示-->
</div>

<script type="text/x-template" id="home-temp">
    <div class="full-height">
        <div class="stopIscroll" style="overflow: hidden;position: relative;">
            <div>
                <div class="swiper-container banner">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide" v-for="p in pictureList">
                        	<div class="banner" style="background:url({{p.pictureUrl}}) no-repeat;background-size: 100% 100%;width: 100%;"></div>
                        </div>
                    </div>
                </div>
                <div class="weui_cells margin-top-0">
                    <div class=" weui_cell">
                        <div class="weui_cell_bd weui_cell_primary">
                            <p>{{shop.name}}</p>
                        </div>
                        <div class="weui_cell_ft">
                            <start-span :level="monthStar"></start-span>
                            <span class="c-red">{{monthScore}}分</span>
                        </div>
                    </div>

                    <div class="weui_cell weui_cells_access" @click="openshoplocation">
                        <div class="weui_cell_hd">
                            <i class="icon-map-marker"></i>
                        </div>
                        <div class="weui_cell_bd weui_cell_primary">
                            <p>{{shop.address}}</p>
                        </div>
                        <div class="weui_cell_ft"></div>
                    </div>
                    <a class="weui_cell weui_cells_access" href="tel:{{shop.phone}}">
                        <div class="weui_cell_hd">
                            <i class="icon-phone"></i>
                        </div>
                        <div class="weui_cell_bd weui_cell_primary">
                            <p>营业时间 : {{new Date(shop.openTime.time).format("hh:mm")}} - {{new Date(shop.closeTime.time).format("hh:mm")}}</p>
                        </div>
                        <div class="weui_cell_ft"></div>
                    </a>
                </div>
                <!--店铺最新公告-->
                <div class="weui_cells weui_cells_access" style="border-top:0.82em solid #E7E7E7;margin-top: inherit">
                    <div class="weui_cell redbox" v-if="noticelist.length>0"
                         @click="this.$dispatch('show-notice-list',noticelist)">
                        <div class="weui_cell_hd"></div>
                        <div class="weui_cell_bd weui_cell_primary">
                            <p>点击查看最新公告</p>
                        </div>
                        <div class="weui_cell_ft"></div>
                    </div>
                </div>
                <div class="weui_cells description" v-if="advert.description" style="border-top:0.82em solid #E7E7E7;margin-top: inherit">{{{advert.description}}}</div>

                <div class="weui_cell_comment weui_cells_access" >
                    <div class="weui_cell" @click="showFilter">
                        <div class="weui_cell_bd weui_cell_primary">
                            <p>
                                <span>全部评价</span>
                                <span id="appraise-count-span">( {{appraiseCount.COUNT ? appraiseCount.COUNT : 0}}条  {{!appraiseCount.COUNT == 0 ? appraiseCount.AVG_SCORE.toFixed(2) : 0}}分 )</span>
                            </p>
                        </div>
                    </div>

                    <ul class="link" :class="{comment:!appraiseCount.COUNT == 0 }" v-if="allSetting.appraiseEdition == 0">
                        <li class="appraise-item" v-for="a in appraiseList" style="border: initial;border-top: 1px #cecece solid;font-family: '微软雅黑';">
                            <div class="reviewListInfo" style="background: initial;">
                                <div class="reviewListInfoTitle" style="position: initial;">
                                    <div class="avatar" v-if="a.headPhoto" style="margin-left: initial;top: 2px;border-radius: initial;
                                    	background:url({{a.headPhoto}}) no-repeat;background-size: 100% 100%;">
                                    </div>
                                    <div class="avatar" v-if="!a.headPhoto" style="margin-left: initial;top: 2px;border-radius: initial;
                                    	background:url(assets/img/restowechat.png) no-repeat;background-size: 100% 100%;">
                                    </div>
                                    <p style="background: initial;color: #5b5f78;font-size: 16px;padding-left: 4rem;margin-top: initial;padding-top: 4px;">
                                        <span v-if="a.nickName">{{a.nickName}}</span>
                                        <span v-if="!a.nickName">匿名用户</span>
                                        <img class="customerSex" src="assets/img/man.png" v-if="a.sex == 1" />
                                        <img class="customerSex" src="assets/img/woman.png" v-if="a.sex == 2" />
                                    </p>
                                    <div class="comment-rst" style="padding-left: 4rem;">
                                        <start-span-img :level="a.level" v-bind:class="{bad:a.level<=4,good:a.level==5}"></start-span-img>
                                    </div>
                                </div>
                                <div class="reviewListInfoContent" style="padding-top: initial;">
                                    <p class="commentContentWord js{{a.id}}" style="margin-left: 4rem;padding: initial;font-size: 17px;word-break: break-all;white-space: pre-wrap;">{{a.contentCopy}}</p>
                                    <span class="commentName" id="{{a.id}}content" style="margin-left: 4rem;" v-if="a.content.length > 50" @click="showAllContent(a)">展开</span>
                                </div>

                                <div v-if="a.level == 5" style="margin-left: 4rem;color: #e74c3a;margin-bottom: 3px;">
				                	<span class="fileName" v-for="m in a.appraiseMessage">
		                                {{m.fileName}}
		                            </span>
                                </div>
                                <div v-if="a.level == 5 && a.feedbackArticle" style="margin-left: 4rem;color: #a6a6a6;margin-bottom: 3px;border-top: 1px solid #e7e7e7;">
                                    <span style="font-size: 12px;">推荐：{{a.feedbackArticle}}</span>
                                </div>
                                <div v-if="a.level < 5" style="margin-left: 4rem;color: #999;margin-bottom: 3px;">
				                	<span class="fileName" v-for="m in a.appraiseMessage" style="border: 1px solid #999;">
		                                {{m.fileName}}
		                            </span>
                                </div>
                                <div v-if="a.level < 5 && a.feedbackArticle" style="margin-left: 4rem;color: #a6a6a6;margin-bottom: 3px;border-top: 1px solid #e7e7e7;">
                                    <span style="font-size: 12px;">不满意：{{a.feedbackArticle}}</span>
                                </div>

                                <div class="keysComment" style="margin-left: 4rem;margin-bottom: 5px;" v-if="a.level==5">
				                    <span class="commentImg" v-if="a.appraiseFiles.length == 1" v-for="(index,f) in a.appraiseFiles" @click="showBigPhoto(a,index)"
				                    	style="background:url({{f.fileUrl ? f.fileUrl : 'assets/img/restowechat.png'}}) no-repeat;background-size: 100% 100%;">
				                    </span>

				                    <span class="manyImg" v-if="a.appraiseFiles.length >= 2" v-for="(index,f) in a.appraiseFiles" @click="showBigPhoto(a,index)"
				                    	style="background:url({{f.photoSquare ? f.photoSquare : 'assets/img/restowechat.png'}}) no-repeat;background-size: 100% 100%;">
				                    </span>
                                </div>
                                <div class="commentHeader">
                                    <span style="color: #636363;">{{a.createTime}}</span>
                                    <span class="commentLeft" @click="showComment(a)"><img src="assets/img/comment.png" alt="评论" style="margin-left: -1px;"/>评论</span>
                                    <span class="commentRight" @click="showLike(a,a.isParse)">
				                    	<img v-if="a.isParse" id="{{a.appraiseId}}src" src="assets/img/likes.png" alt="点赞" />
				                        <img v-if="!a.isParse" id="{{a.appraiseId}}src" src="assets/img/heart.png" alt="点赞" />
				                        <span v-if="a.isParse" class="{{a.appraiseId}}">点赞</span>
				                        <span v-if="!a.isParse" class="{{a.appraiseId}}">取消</span>
				                    </span>
                                </div>
                                <div class="mainContent" v-if="a.appraisePraises.length || a.appraiseComments.length">
                                    <div class="likesContent" v-bind:class="{addBorder:a.appraiseComments.length}" v-if="a.appraisePraises.length != 0">
                                        <img class="likesContent_like" src="assets/img/likes.png" alt="点赞" />
                                        <div class="likesHead">
                                            <span v-for="p in a.appraisePraises">
                                            	<img v-if="p.headPhoto" class="avat" :src="p.headPhoto">
                                            	<img v-if="!p.headPhoto" class="avat" src="assets/img/restowechat.png">
                                            </span>
                                        </div>
                                    </div>
                                    <div class="commentContent" v-if="a.appraiseComments.length != 0">
                                        <img class="likesContent_comment" src="assets/img/comment.png" alt="评论" />
                                        <div class="specificComment" v-for="c in a.appraiseComments" >
				                            <span v-if="$index < 3"  @click="showCommentReply(a,c)">
				                                <span class="commentName" v-if="c.pid.length == 0" >{{c.nickName}}</span>
				                                <span class="commentName" v-if="c.pid.length > 0" >{{c.nickName}}回复了{{c.replyName}}</span>
				                                <span class="commentWord">: {{c.content}}</span>
				                            </span>
                                        </div>
                                        <span style="display: none" id="{{a.id}}span">
				                            <div class="specificComment" v-for="c in a.appraiseComments" >
				                                <span v-if="$index >= 3" @click="showCommentReply(a,c)" >
				                                    <span class="commentName" v-if="c.pid.length == 0" >{{c.nickName}}</span>
				                                    <span class="commentName" v-if="c.pid.length > 0" >{{c.nickName}}回复了{{c.replyName}}</span>
				                                    <span class="commentWord">: {{c.content}}</span>
				                                </span>
				                            </div>
		                        		</span>
                                        <span id="{{a.id}}info" class="commentName specificComment" v-if="a.appraiseComments.length > 3" @click="displayAllComment(a)">
				                            查看全部{{a.appraiseComments.length}}条回复
				                        </span>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                    <!--新评论模板-->
                    <ul class="new-comment" :class="{comment:!appraiseCount.COUNT == 0 }" v-if="allSetting.appraiseEdition == 1">
                    	<li class="new-appraise-item" v-for="f in appraiseList">
                    		<div class="new-reviewListInfo">
                    			<div class="new-avatar">
		                            <img v-if="f.headPhoto" :src="f.headPhoto" alt="用户头像" style="border-radius: 3px;">
		                            <img v-if="!f.headPhoto" src="assets/img/restowechat.png" alt="用户头像" style="border-radius: 3px;">
		                        </div>
		                        <p class="new-customerHead">
		                            <span v-if="f.nickName">{{f.nickName}}</span>
		                            <span v-if="!f.nickName">匿名用户</span>
		                            <span style="font-size: 12px;color: #999;">{{f.createTime}}</span>
		                            <span style="float: right;color: #ff8832;font-size: 1.2rem;">{{f.level}}分</span>
		                        </p>
		                        <p class="new-customerHead" style="font-size: 0.9rem;margin-top: 0.5rem;">{{f.content}}</p>
		                        <p class="new-flex-tab">
		                        	<span class="new_flex_item_tab" :class="{good:f.level==100,bad:f.level<100}" v-for="a in f.feedbackList" v-if="a != ''">
		                        		<i>{{a}}</i>
		                        	</span>
		                        </p>
		                        <!--菜品赞踩-->
		                        <div class="flex_container_img" v-if="f.appraiseSteps.length == 1" style="margin: 0.4rem 0.5rem 0 3.5rem;width: initial;flex-wrap: wrap;">
		                        	<span v-for="(index,img) in f.appraiseSteps" @click="showBigPhoto(f,index)" class="commentBigImg" style="background:url({{img.pictureUrl}}) no-repeat;background-size: 100% 100%;" v-if="img.pictureUrl">
		                        		<p class="bgImg">
		                        			<img class="zanOrCaiImg" v-if="img.state == 1" src="assets/img/btn_zan_selected.png" />
		                        			<img class="zanOrCaiImg" v-if="img.state == 0" src="assets/img/btn_cai_selected.png" />
		                        		</p>
		                        	</span>
		                        	<span v-for="(index,img) in f.appraiseSteps" @click="showBigPhoto(f,index)" class="commentBigImg" style="background:url(assets/img/restowechat.png) no-repeat;background-size: 100% 100%;" v-if="!img.pictureUrl">
		                        		<p class="bgImg">
		                        			<img class="zanOrCaiImg" v-if="img.state == 1" src="assets/img/btn_zan_selected.png" />
		                        			<img class="zanOrCaiImg" v-if="img.state == 0" src="assets/img/btn_cai_selected.png" />
		                        		</p>
		                        	</span>
		                        </div>
		                        <div class="flex_container_img" v-if="f.appraiseSteps.length > 1" style="margin: 0.4rem 0.5rem 0 3.5rem;width: initial;flex-wrap: wrap;">
		                        	<span v-for="(index,img) in f.appraiseSteps" @click="showBigPhoto(f,index)" class="commentSmallImg" style="background:url({{img.pictureUrl}}) no-repeat;background-size: 100% 100%;" v-if="img.pictureUrl && index<9">
		                        		<p class="bgImg">
		                        			<img class="zanOrCaiImg" v-if="img.state == 1" src="assets/img/btn_zan_selected.png" />
		                        			<img class="zanOrCaiImg" v-if="img.state == 0" src="assets/img/btn_cai_selected.png" />
		                        		</p>
		                        	</span>
		                        	<span v-for="(index,img) in f.appraiseSteps" @click="showBigPhoto(f,index)" class="commentSmallImg" style="background:url(assets/img/restowechat.png) no-repeat;background-size: 100% 100%;" v-if="!img.pictureUrl && index<9">
		                        		<p class="bgImg">
		                        			<img class="zanOrCaiImg" v-if="img.state == 1" src="assets/img/btn_zan_selected.png" />
		                        			<img class="zanOrCaiImg" v-if="img.state == 0" src="assets/img/btn_cai_selected.png" />
		                        		</p>
		                        	</span>
		                        </div>

		                        <div class="commentHeader" style="margin-left: 3.5rem;margin-bottom: 24px;">
                                    <span class="commentLeft" @click="showComment(f)"><img src="assets/img/comment.png" alt="评论" style="margin-left: -1px;"/>评论</span>
                                    <span class="commentRight" @click="showLike(f,f.isParse)">
				                    	<img v-if="f.isParse" id="{{f.appraiseId}}src" src="assets/img/likes.png" alt="点赞" />
				                        <img v-if="!f.isParse" id="{{f.appraiseId}}src" src="assets/img/heart.png" alt="点赞" />
				                        <span v-if="f.isParse" class="{{f.appraiseId}}">点赞</span>
				                        <span v-if="!f.isParse" class="{{f.appraiseId}}">取消</span>
				                    </span>
                                </div>
                                
                                <div class="mainContent" v-if="f.appraisePraises.length || f.appraiseComments.length" style="margin-left: 3.5rem;">
                                    <div class="likesContent" v-bind:class="{addBorder:f.appraiseComments.length}" v-if="f.appraisePraises.length != 0">
                                        <img class="likesContent_like" src="assets/img/likes.png" alt="点赞" />
                                        <div class="likesHead">
                                            <span v-for="p in f.appraisePraises">
                                            	<img v-if="p.headPhoto" :src="p.headPhoto" class="avat">
                                            	<img v-if="!p.headPhoto" src="assets/img/restowechat.png" class="avat">
                                            </span>
                                        </div>
                                    </div>
                                    <div class="commentContent" v-if="f.appraiseComments.length != 0">
                                        <img class="likesContent_comment" src="assets/img/comment.png" alt="评论" />
                                        <div class="specificComment" v-for="c in f.appraiseComments" >
				                            <span v-if="$index < 3"  @click="showCommentReply(f,c)">
				                                <span class="commentName" v-if="!c.pid" >{{c.nickName}}</span>
				                                <span class="commentName" v-if="c.pid" >{{c.nickName}}回复了{{c.replyName}}</span>
				                                <span class="commentWord">: {{c.content}}</span>
				                            </span>
                                        </div>
                                        <span style="display: none" id="{{f.id}}span">
				                            <div class="specificComment" v-for="c in f.appraiseComments" >
				                                <span v-if="$index >= 3" @click="showCommentReply(f,c)" >
				                                    <span class="commentName" v-if="!c.pid" >{{c.nickName}}</span>
				                                    <span class="commentName" v-if="c.pid" >{{c.nickName}}回复了{{c.replyName}}</span>
				                                    <span class="commentWord">: {{c.content}}</span>
				                                </span>
				                            </div>
		                        		</span>
                                        <span id="{{f.id}}info" class="commentName specificComment" v-if="f.appraiseComments.length > 3" @click="displayAllComment(f)">
				                            查看全部{{f.appraiseComments.length}}条回复
				                        </span>
                                    </div>
                                </div>
                    		</div>
                    	</li>
                    </ul>

                    <div class="weui_cell font-mini" v-if="isLoad">
                        <p><i class="icon-spinner icon-spin"></i>正在加载中...</p>
                    </div>
                    <div class="weui_cell font-mini" v-if="isOver">
                        <p><i class="icon-ok"></i>已经全部加载完成</p>
                    </div>

                    <!--当用户评论为空时-->
                    <div class="emptyComment" v-if="appraiseCount.COUNT == 0">
                        <img src="assets/img/noComment.png" alt="评论为空" />
                        <p style="margin-top: 10px;">暂无数据,快来评论吧~</p>
                    </div>

                </div>

            </div>
        </div>
        <noticelist-dialog :show.sync="noticeListDialog.show" :noticelist="noticeListDialog.noticelist"></noticelist-dialog>
        <iframe-dialog-comment :show.sync="iframeDialogComment.show" :appraise.sync="iframeDialogComment.appraise"
                               :customer.sync="iframeDialogComment.customer" :comment.sync="iframeDialogComment.comment"></iframe-dialog-comment>
        <appraise-filter-dialog :show.sync="appraiseFilterDialog.show" :countlist="countList" @filter="reloadAppraise" @filternew="reloadAppraiseNew"></appraise-filter-dialog>
        <iframe-dialog-photo :show.sync="iframeDialogPhoto.show" :appraise.sync="iframeDialogPhoto.appraise" :sort.sync="iframeDialogPhoto.sort" :picindex.sync="iframeDialogPhoto.picindex"></iframe-dialog-photo>
        <noticelist-dialog :show.sync="noticeListDialog.show" :noticelist="noticeListDialog.noticelist"></noticelist-dialog>
    </div>
</script>

<script type="text/x-template" id="tangshi-temp">
    <div class="full-height">
        <!--<div class="weui_cell weui_cells_access menuLogo">
            <div class="weui_cell_primary">
                <p>
                	<img src="assets/img/shop.png" style="width: 1.3rem;height: 1.3rem;vertical-align: middle;"/>
                	<span style="vertical-align: middle;">{{shop.name}}</span>
                </p>
            </div>
            <div class="weui_cell_bd">
            	<span class="choiceShop" @click="switchShop(allSetting.switchMode)">切换门店</span>
            	<span v-if="shopInfo.articlePhoto != 2" class="choiceShop" style="margin-left: 5px;" @click="changeTemplate">简洁版</span>
            	<span v-if="shopInfo.articlePhoto == 2" class="choiceShop" style="margin-left: 5px;" @click="changeTemplate">详情版</span>
            </div>
        </div>-->
        <div class="article-container">
            <div class="full-height article-family-list">
                <ul class="article-family-ul">
                    <!--人气新品推荐-->
                    <li v-for="f in recommendTypeList" v-if="f.articles.length" @click="changeRecommendType(f)" :class="{active:f.id==currentRecommend.id && !choiceList}">
                        <!--<img v-if="f.type == 0" class="fireImg" src="assets/img/fire.png" />
                        <img v-if="f.type == 1" class="fireImg" src="assets/img/new.png" />-->
                        <span class="recommend">{{f.name}}</span>
                    </li>
                    <li v-for="f in familyList" v-if="f.articles.length" :class="{active:f.id==currentFamily.id && choiceList}"
                        @click="changeCurrentFamily(f)">
                        {{f.name}}
                        <span class="articleCount">
                        	<i class="article-count" v-if="f.currentCount>0">{{f.currentCount}}</i>
                        	<i class="article-count" v-bind:class="{artCount:f.currentCount == 0}"  v-if="f.currentCount == 0"></i>
                        </span>
                    </li>
                </ul>
            </div>
            <div class="full-height article-list-wapper">
                <!--新品推荐-->
                <div class="article-list" style="border-left: 1px solid #333;">
                    <div class="article-family-group" v-for="f in recommendTypeList" v-if="f.articles.length"
                         :data-recommend-id="f.id">                      
                        <!--超大图-->
                        <div v-for="a in f.articles" v-if="a.isHidden == 0 && !a.isEmpty && a.photoType == 4" class="art-item superItem"
                             :class="{'has-fans':a.fansPrice||a.fansPrice&&a.articlePrices.length==0}"
                             style="background:url({{a.photoSuper}}) no-repeat;background-size: 100% 100%;"
                             @click.stop="showAction(a)">
                            <p>
                                <span class="art-name">{{a.name}}</span>
                                <span class="art-price price" v-if="a.openCatty == 0"> {{getPrice(a)}} / {{a.unit}}</span>
                                <span class="art-price price" v-if="a.openCatty == 1"> {{a.cattyMoney}} / 斤</span>
                            </p>
                            <div v-if="a.fansPrice">
                                <span class="fans-price-item">{{shopInfo.fansName}}:{{a.fansPrice}}元</span>
                            </div>
                            <article-operator :style="{color:a.controlColor}"
                                              v-if="a.newUnit == 0 &&a.recommendCount == 0 &&a.articlePrices.length==0&&a.articleType==1&a.openCatty==0"
                                              :article.sync="a" @add="addToShopCart"
                                              @cut="cutToShopCart"></article-operator>
                            <div class="numberControl" :style="{color:a.controlColor}" v-else>
                                <span v-if="a.isEmpty">已售罄</span>
                                <span class="plus-span" @click.stop="showAction(a)" v-else><i
                                        class="icon iconfont plus">&#xe6cd;</i></span>
                            </div>
                        </div>
                        <!--正方形图-->
                        <div v-for="a in f.articles" v-if="a.isHidden == 0 && !a.isEmpty && a.photoType == 5" class="art-item squareItem"
                             :class="{'has-fans':a.fansPrice||a.fansPrice&&a.articlePrices.length==0}"
                             style="background:url({{a.photoSquareOriginal}}) no-repeat;background-size: 100% 100%;"
                             @click.stop="showAction(a)">
                            <p>
                                <span class="art-name">{{a.name}}</span>
                                <span class="art-price price" v-if="a.openCatty == 0"> {{getPrice(a)}} / {{a.unit}}</span>
                                <span class="art-price price" v-if="a.openCatty == 1"> {{a.cattyMoney}} / 斤</span>
                            </p>
                            <div v-if="a.fansPrice">
                                <span class="fans-price-item">{{shopInfo.fansName}}:{{a.fansPrice}}元</span>
                            </div>
                            <article-operator :style="{color:a.controlColor}"
                                              v-if="a.newUnit == 0 &&a.recommendCount == 0 &&a.articlePrices.length==0&&a.articleType==1&a.openCatty==0"
                                              :article.sync="a" @add="addToShopCart"
                                              @cut="cutToShopCart"></article-operator>
                            <div class="numberControl" :style="{color:a.controlColor}" v-else>
                                <span v-if="a.isEmpty">已售罄</span>
                                <span class="plus-span" @click.stop="showAction(a)" v-else><i
                                        class="icon iconfont plus">&#xe6cd;</i></span>
                            </div>
                        </div>                         
                        <!--大图-->
                        <div v-for="a in f.articles" v-if="a.isHidden == 0 && !a.isEmpty && a.photoType == 1" class="art-item"
                             :class="{'has-fans':a.fansPrice||a.fansPrice&&a.articlePrices.length==0}"
                             style="background:url({{a.photoSmall}}) no-repeat;background-size: 100% 100%;"
                             @click.stop="showAction(a)">
                            <p>
                                <span class="art-name">{{a.name}}</span>
                                <span class="art-price price" v-if="a.openCatty == 0"> {{getPrice(a)}} / {{a.unit}}</span>
                                <span class="art-price price" v-if="a.openCatty == 1"> {{a.cattyMoney}} / 斤</span>
                            </p>
                            <div v-if="a.fansPrice">
                                <span class="fans-price-item">{{shopInfo.fansName}}:{{a.fansPrice}}元</span>
                            </div>
                            <article-operator :style="{color:a.controlColor}"
                                              v-if="a.newUnit == 0 &&a.recommendCount == 0 &&a.articlePrices.length==0&&a.articleType==1&a.openCatty==0"
                                              :article.sync="a" @add="addToShopCart"
                                              @cut="cutToShopCart"></article-operator>
                            <div class="numberControl" :style="{color:a.controlColor}" v-else>
                                <span v-if="a.isEmpty">已售罄</span>
                                <span class="plus-span" @click.stop="showAction(a)" v-else><i
                                        class="icon iconfont plus">&#xe6cd;</i></span>
                            </div>
                        </div>
                        <!--小图-->
                        <div class="small-item article-pice-small" v-for="a in f.articles" v-if="a.isHidden == 0 && !a.isEmpty && a.photoType == 2"
                             :class="{'has-fans':a.fansPrice||a.fansPrice&&a.articlePrices.length==0}" @click.stop="showAction(a)">
                         	<div class="smallArticleImg" v-if="a.photoLittle" style="background:url({{a.photoLittle}}) no-repeat;background-size: 100% 100%;"></div>
                            <img src="assets/img/articleWhtie.jpg" v-if="!a.photoLittle" class="smallArticleImg" />
                            <p class="article-describe">
								<span class="describe-name">								
									<i>{{a.name}}</i>
								</span>
								<span class="smallFans price" v-if="a.fansPrice">{{getPrice(a)}}/{{a.unit}}</span>
                                <span class="describe-price" v-if="a.fansPrice">
									<span class="price">{{a.fansPrice}}/{{a.unit}}</span>
								</span>
								<span class="describe-price" v-if="!a.fansPrice">
									<span class="price" v-if="a.openCatty == 0"> {{getPrice(a)}}/{{a.unit}}</span>
									<span class="price" v-if="a.openCatty == 1"> {{a.cattyMoney}} / 斤</span>
								</span>
                            </p>

                            <article-operator v-if="a.newUnit == 0 &&a.recommendCount == 0 &&a.articlePrices.length==0&&a.articleType==1&a.openCatty==0"
                                              :article.sync="a" @add="addToShopCart" @cut="cutToShopCart"></article-operator>
                            <div class="numberControl" v-else>
                                <span v-if="a.isEmpty">已售罄</span>
                                <span class="plus-span" @click.stop="showAction(a)" v-else><i class="icon iconfont plus">&#xe6cd;</i></span>
                            </div>
                        </div>
                        <!--无图-->
                        <div class="small-item article-no-img" v-for="a in f.articles" v-if="a.isHidden == 0 && !a.isEmpty && a.photoType == 3"
                             :class="{'has-fans':a.fansPrice||a.fansPrice&&a.articlePrices.length==0}" @click.stop="showAction(a)">
                            <p class="article-describe">
                                <span class="describe-name">{{a.name}}</span>
                                <span class="describe-price">
									<i v-if="a.fansPrice">￥{{a.fansPrice}}</i>	
									<span class="small-price" v-if="a.openCatty == 0">￥{{getPrice(a)}}</span>
									<span class="small-price" v-if="a.openCatty == 1"> {{a.cattyMoney}} / 斤</span>
								</span>
                            </p>
							
                            <article-operator v-if="a.newUnit == 0 &&a.recommendCount == 0 &&a.articlePrices.length==0&&a.articleType==1&a.openCatty==0"
                                              :article.sync="a" @add="addToShopCart" @cut="cutToShopCart"></article-operator>
                            <div class="numberControl" v-else>
                                <span v-if="a.isEmpty">已售罄</span>
                                <span class="plus-span" @click.stop="showAction(a)" v-else><i class="icon iconfont plus">&#xe6cd;</i></span>
                            </div>
                        </div>
                    </div>

                    <div class="article-family-group" v-for="f in familyList" v-if="f.articles.length"
                         :data-family-id="f.id">
                        <!--超大图-->
                        <div v-for="a in f.articles" v-if="a.isHidden == 0 && !a.isEmpty && a.photoType == 4" class="art-item superItem"
                             :class="{'has-fans':a.fansPrice||a.fansPrice&&a.articlePrices.length==0}"
                             style="background:url({{a.photoSuper}}) no-repeat;background-size: 100% 100%;"
                             @click.stop="showAction(a)">
                            <p>
                                <span class="art-name">{{a.name}}</span>
                                <span class="art-price price" v-if="a.openCatty == 0"> {{getPrice(a)}} / {{a.unit}}</span>
                                <span class="art-price price" v-if="a.openCatty == 1"> {{a.cattyMoney}} / 斤</span>
                            </p>
                            <div v-if="a.fansPrice">
                                <span class="fans-price-item">{{shopInfo.fansName}}:{{a.fansPrice}}元</span>
                            </div>
                            <article-operator :style="{color:a.controlColor}"
                                              v-if="a.newUnit == 0 &&a.recommendCount == 0 &&a.articlePrices.length==0&&a.articleType==1&a.openCatty==0"
                                              :article.sync="a" @add="addToShopCart"
                                              @cut="cutToShopCart"></article-operator>
                            <div class="numberControl" :style="{color:a.controlColor}" v-else>
                                <span v-if="a.isEmpty">已售罄</span>
                                <span class="plus-span" @click.stop="showAction(a)" v-else><i
                                        class="icon iconfont plus">&#xe6cd;</i></span>
                            </div>
                        </div>
                        <!--正方形图-->
                        <div v-for="a in f.articles" v-if="a.isHidden == 0 && !a.isEmpty && a.photoType == 5" class="art-item squareItem"
                             :class="{'has-fans':a.fansPrice||a.fansPrice&&a.articlePrices.length==0}"
                             style="background:url({{a.photoSquareOriginal}}) no-repeat;background-size: 100% 100%;"
                             @click.stop="showAction(a)">
                            <p>
                                <span class="art-name">{{a.name}}</span>
                                <span class="art-price price" v-if="a.openCatty == 0"> {{getPrice(a)}} / {{a.unit}}</span>
                                <span class="art-price price" v-if="a.openCatty == 1"> {{a.cattyMoney}} / 斤</span>
                            </p>
                            <div v-if="a.fansPrice">
                                <span class="fans-price-item">{{shopInfo.fansName}}:{{a.fansPrice}}元</span>
                            </div>
                            <article-operator :style="{color:a.controlColor}"
                                              v-if="a.newUnit == 0 &&a.recommendCount == 0 &&a.articlePrices.length==0&&a.articleType==1&a.openCatty==0"
                                              :article.sync="a" @add="addToShopCart"
                                              @cut="cutToShopCart"></article-operator>
                            <div class="numberControl" :style="{color:a.controlColor}" v-else>
                                <span v-if="a.isEmpty">已售罄</span>
                                <span class="plus-span" @click.stop="showAction(a)" v-else><i
                                        class="icon iconfont plus">&#xe6cd;</i></span>
                            </div>
                        </div>
                        <!--大图-->
                        <div v-for="a in f.articles" v-if="a.isHidden == 0 && a.photoType == 1" class="art-item"
                             :class="{'has-fans':a.fansPrice||a.fansPrice&&a.articlePrices.length==0}"
                             style="background:url({{a.photoSmall}}) no-repeat;background-size: 100% 100%;"
                             @click.stop="showAction(a)">
                            <p>
                                <span class="art-name">{{a.name}}</span>
                                <span class="art-price price" v-if="a.openCatty == 0"> {{getPrice(a)}} / {{a.unit}}</span>
                                <span class="art-price price" v-if="a.openCatty == 1"> {{a.cattyMoney}} / 斤</span>
                            </p>
                            <div v-if="a.fansPrice">
                                <span class="fans-price-item">{{shopInfo.fansName}}:{{a.fansPrice}}元</span>
                            </div>
                            <article-operator :style="{color:a.controlColor}"
                                              v-if="a.newUnit == 0 &&a.recommendCount == 0 &&a.articlePrices.length==0&&a.articleType==1&a.openCatty==0"
                                              :article.sync="a" @add="addToShopCart"
                                              @cut="cutToShopCart"></article-operator>
                            <div class="numberControl" :style="{color:a.controlColor}" v-else>
                                <span v-if="a.isEmpty">已售罄</span>
                                <span class="plus-span" @click.stop="showAction(a)" v-else><i
                                        class="icon iconfont plus">&#xe6cd;</i></span>
                            </div>
                        </div>
                        <!--小图-->
                        <div class="small-item article-pice-small" v-for="a in f.articles" v-if="a.isHidden == 0 && a.photoType == 2"
                             :class="{'has-fans':a.fansPrice||a.fansPrice&&a.articlePrices.length==0}" @click.stop="showAction(a)">
                            <div class="smallArticleImg" v-if="a.photoLittle" style="background:url({{a.photoLittle}}) no-repeat;background-size: 100% 100%;"></div>
                            <img src="assets/img/articleWhtie.jpg" v-if="!a.photoLittle" class="smallArticleImg" />
                            <p class="article-describe">
								<span class="describe-name">								
									<i>{{a.name}}</i>
								</span>
								<span class="smallFans price" v-if="a.fansPrice">{{getPrice(a)}}/{{a.unit}}</span>
                                <span class="describe-price" v-if="a.fansPrice">
									<span class="price">{{a.fansPrice}}/{{a.unit}}</span>
								</span>
								<span class="describe-price" v-if="!a.fansPrice">
									<span class="price" v-if="a.openCatty == 0"> {{getPrice(a)}}/{{a.unit}}</span>
									<span class="price" v-if="a.openCatty == 1"> {{a.cattyMoney}} / 斤</span>
								</span>
                            </p>
                            <article-operator v-if="a.newUnit == 0 &&a.recommendCount == 0 &&a.articlePrices.length==0&&a.articleType==1&a.openCatty==0"
                                              :article.sync="a" @add="addToShopCart" @cut="cutToShopCart"></article-operator>
                            <div class="numberControl" v-else>
                                <span v-if="a.isEmpty">已售罄</span>
                                <span class="plus-span" @click.stop="showAction(a)" v-else><i class="icon iconfont plus">&#xe6cd;</i></span>
                            </div>
                        </div>
                        <!--无图-->
                        <div class="small-item article-no-img" v-for="a in f.articles" v-if="a.isHidden == 0 && a.photoType == 3"
                             :class="{'has-fans':a.fansPrice||a.fansPrice&&a.articlePrices.length==0}" @click.stop="showAction(a)">
                            <p class="article-describe">
                                <span class="describe-name">{{a.name}}</span>
                                <span class="describe-price">
									<i v-if="a.fansPrice">￥{{a.fansPrice}}</i>	
									<span class="small-price" v-if="a.openCatty == 0">￥{{getPrice(a)}}</span>
									<span class="small-price" v-if="a.openCatty == 1"> {{a.cattyMoney}} / 斤</span>
								</span>
                            </p>
                            <article-operator v-if="a.newUnit == 0 &&a.recommendCount == 0 &&a.articlePrices.length==0&&a.articleType==1&a.openCatty==0"
                                              :article.sync="a" @add="addToShopCart" @cut="cutToShopCart"></article-operator>
                            <div class="numberControl" v-else>
                                <span v-if="a.isEmpty">已售罄</span>
                                <span class="plus-span" @click.stop="showAction(a)" v-else><i class="icon iconfont plus">&#xe6cd;</i></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--多人点餐成员加入顶部提示start-->
            <!--<div class="group-remain" v-if="joinRemain" transition="join">
                <div class="weui-cell__bd">
                    <img class="groupHead" src="assets/img/restowechat.png" alt="头像" />
                    <span>
                        <i style="color: #e88d03;">煞笔老卷</i>
                    </span>
                    <span style="margin-left: 5px;">
                        <i>添加元气蒸汤</i>
                        <i>x1</i>
                    </span>
                </div>
            </div>-->
            <!--多人点餐成员加入顶部提示end-->

            <!--查看购物车start-->
            <div class="menu-cart">
                <div class="show-shop-cart" @click="showShopCart">
                    <div class="weui_cell_primary">
                        <img class="shopCartImg" src="assets/img/shopping_cart.png" />
                        <span class="shopCartCount">
                        	<i class="art-count" v-if="shopCart.totalNumber>0">{{shopCart.totalNumber}}</i>
                        	<i class="art-count" v-bind:class="{artCount:shopCart.totalNumber == 0}"  v-if="shopCart.totalNumber == 0"></i>
                        </span>
                    </div>
                    <div class="text-center">
                        <span v-if="!waitRedMoney">点击查看购物车</span>
                    </div>
                    <div class="weui_cell_primary" style="margin-left: 5px;" v-if="waitRedMoney">
                        <div class="pull-right">
                            <button type="button" class="weui_btn weui_btn_mini order-oks" style="background: #000;width: initial;"
                                    @click.stop="backToWaitPage">查看等位号
                            </button>
                        </div>
                    </div>
                    <div class="weui_cell_primary">
                        <div class="pull-right">
                            <button type="button" class="weui_btn weui_btn_mini weui_btn_main order-ok"
                                    @click.stop="showCreateOrder(true)">点好了
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <!--查看购物车end-->
        </div>

        <!--多人点餐群组弹窗start-->
        <div v-if="groupShow">
            <div class="weui_mask_transparent" style="background: rgba(0, 0, 0, 0.6);"></div>
            <div class="weui_toast_group" :class="{groupMove:groupShow,groupOut:!groupBox}">
                <div class="full-height">
                    <div class="weui-cell header_table">
                        <div class="weui-cell__bd">
                            <img src="assets/img/remain.png" alt="" class="remainImg" />
                            <span>{{tableNumber}}号座位已有用户进行点单操作</span>
                        </div>
                    </div>

                    <div class="swiper-group">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide" v-for="f in groupListInfo">
                                <div style="width: 100%;height: 100%;">
                                    <p class="nowGroud">
                                        <span>当前组用户</span>
                                        <span style="color: #999999;">(上滑查看其它小组)</span>
                                        <span style="color: #999999;position: absolute;right: 0;">
					            			共<i style="color: #000;font-style: normal;margin: 0px 5px;">{{f.customerGroups.length}}</i>位伙伴
					            		</span>
                                    </p>
                                    <div class="myGroup">
                                        <div class="group_head">
                                            <p class="headerImg" v-for="a in f.customerGroups">
                                                <img :src="a.headPhoto" class="head_Photo"/>
                                                <span class="groupName">{{a.customerName}}</span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="groundBtn">
                        <span class="openOtherBtn" @click="openOtherGroup">自己开单</span>
                        <span class="joinBtn" @click="joinThem">加入他们</span>
                    </div>
                </div>
            </div>
        </div>
        <!--多人点餐群组弹窗end-->

        <!--多人点餐购物车start-->
        <div v-if="groupShopCartShow">
            <div class="weui_mask_transparent" @click="closeGroupShopCart" style="background: rgba(0, 0, 0, 0.6);z-index: 18;"></div>
            <div class="weui_toast_cart" :class="{cartmove:groupShopCartShow,cartout:!shopCartBox}">
                <div class="cart-height">
                    <div class="weui-cell header_table" id="groupTitle">
                        <div class="weui-cell__bd">
                            <span>共计已选<i>{{groupArticleCount ? groupArticleCount : 0}}</i>份菜品</span>
                            <!--<span>(<i style="color: red;">!</i>表示好友点了同一份菜品哦)</span>-->
                        </div>
                    </div>

                    <div class="groupScroll">
                        <div>
                            <div class="groupCartList" style="border: none;padding: initial;" v-if="!customerGroupList.length">
                                <img style="width: 5rem;height: 5rem;position: relative;top: 12vh;" src="assets/img/emptyShopCart.png"/>
                                <p style="position: relative;top: 12vh;">暂无菜品，请添加菜品~</p>
                            </div>
                            <div class="groupCartList" v-for="f in customerGroupList" v-if="customerGroupList.length">
                                <div class="weui-cell" style="padding: 6px 15px;background-color: #f4f4f4;color: #757575;">
                                    <div class="weui_flex_cart" style="text-align: left;text-overflow: ellipsis;white-space: nowrap;overflow: hidden;">
                                        <img :src="f.headPhoto" style="width: 35px;vertical-align: middle;border-radius: 50%;" />
                                        <span style="vertical-align: middle;margin-left: 5px;">{{f.customerName}}</span>
                                    </div>
                                    <div class="weui_flex_cart">
                                        <span>{{f.articleCount}}份</span>
                                    </div>
                                    <div class="weui_flex_cart" style="text-align: right;">
                                        <img src="assets/img/groupMaster.png" class="groupImg" v-if="f.isLeader == 1" />
                                        <img src="assets/img/clearGroup.png" class="groupImg" @click="removeCustomer(f)" v-if="checkGroupLeader(customerGroupList, customerInfo) && f.isLeader == 0" />
                                    </div>
                                </div>
                                <div class="groupCartItem" v-for="item in shopCart.items" v-if="checkUserArticle(f.customerId,item.data) && getArticleCountByCustomer(f.customerId,item.data) != 0">
                                    <div class="weui_flex_cart" style="text-align: left;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;">
                                        <span>{{getArticleName(item.data)}}</span>
                                        <p v-if="item.type==3" class="mini" style="text-align: left;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;">
				                    	    <span v-for="attr in item.data.mealAttrs">
					                    		<label v-for="name in attr.currentItem">
			                                        {{name.name}}&nbsp;
			                                    </label>
					                    	</span>
					                    </p>
                                        <p class="mini" v-if="item.data.recommendList.length > 0" style="text-align: left;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;">
				                    	<span >
				                    		<label v-for="recommend in item.data.recommendList">
                                                {{recommend.articleName}} <label v-if="recommend.count > 1">X{{recommend.count}}</label> &nbsp;
                                            </label>
				                    	</span>
                                        </p>
                                    </div>

                                    <div class="weui_flex_cart">
                                        <span>x{{getArticleCountByCustomer(f.customerId,item.data)}}</span>
                                        <span style="position: absolute;left: 56%;">￥{{getArticlePrice(item.data)}}</span>
                                    </div>

                                    <div  class="weui_flex_cart group-item" v-if="f.customerId != customerInfo.id" >

                                    </div>

                                    <!--套餐模式显示-->
                                    <div v-if="item.type==3 && f.customerId == customerInfo.id" class="weui_flex_cart group-item">
                                    	<span class="numberControl">
	                                        <span @click="cutToShopCart(item.data)" class="cut-span">
	                                        	<i class="icon iconfont minus">&#xe751;</i></span>
	                                        <span class="art-number">{{item.data.number}}</span>
	                                        <span @click="showAction(item.data)" class="meals-edit plus-span">
	                                        	<i class="icon icon-pencil"></i></span>
                                        </span>
                                    </div>
                                    <!--套餐模式显示-->
                                    <!--新规格-->
                                    <div v-if="item.type==5 && item.data.recommendList.length == 0 && f.customerId == customerInfo.id " class="weui_flex_cart group-item">
                                    	<span class="numberControl">
                                    		<span @click="cutToShopCartNew(item.data)" class="cut-span">
                                    			<i class="icon iconfont minus">&#xe751;</i>
                                    		</span>
                                        	<span class="art-number">{{item.data.count}}</span>
                                        	<span @click="showActionNew(item.data)" class="meals-edit plus-span">
                                        		<i class="icon icon-pencil"></i>
                                        	</span>
                                    	</span>
                                    </div>
                                    <div v-if="item.data.recommendList.length > 0 && item.type != 5 && f.customerId == customerInfo.id" class="weui_flex_cart group-item">
			                            <span class="numberControl">
		                                    <span @click="cutToShopCart(item.data)" class="cut-span">
		                                    	<i class="icon iconfont minus">&#xe751;</i>
		                                    </span>
                                        	<span class="art-number">{{item.data.number}} </span>
                                       	 	<span @click="showAction(item.data,'edit')" class="meals-edit plus-span">
                                       	 		<i class="icon icon-pencil"></i>
                                       	 	</span>
                                        </span>
                                    </div>

									<div v-if="item.type == 8" class="weui_flex_cart group-item">
			                            <span class="numberControl">
		                                    <span @click="cutToShopCart(item.data)" class="cut-span">
		                                    	<i class="icon iconfont minus">&#xe751;</i>
		                                    </span>
                                        	<span class="art-number">{{item.data.number}} </span>
                                       	 	<span @click="showAction(item.data,'edit')" class="meals-edit plus-span">
                                       	 		<i class="icon icon-pencil"></i>
                                       	 	</span>
                                        </span>
                                    </div>

                                    <div v-if="item.data.recommendList.length > 0 && item.type == 5 && f.customerId == customerInfo.id" class="weui_flex_cart group-item">
			                            <span class="numberControl">
		                                    <span @click="cutToShopCart(item.data)" class="cut-span">
		                                    	<i class="icon iconfont minus">&#xe751;</i>
		                                    </span>
	                                        <span class="art-number">{{item.data.count}}</span>
	                                        <span @click="showActionNew(item.data)" class="meals-edit plus-span">
	                                        	<i class="icon icon-pencil"></i>
	                                        </span>
                                        </span>
                                    </div>

                                    <div class="weui_flex_cart group-item" v-if="item.type != 5 && item.type != 3 && item.type != 8 && item.data.recommendList.length == 0 && f.customerId == customerInfo.id">
                                        <!--单品模式显示-->
                                        <article-operator :article.sync="item.data" @cut="cutToShopCart" @add="addToShopCart"></article-operator>
                                        <!--单品模式显示-->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--多人购物车-->
                    <div class="menu-cart">
                        <div class="show-shop-cart" style="padding: initial;">
                            <div class="weui_cell_primary">
                                <img class="shopCartImg" src="assets/img/shopping_cart.png" />
                                <span class="shopCartCount">
		                        	<i class="art-count" v-if="shopCart.totalNumber>0">{{shopCart.totalNumber}}</i>
		                        	<i class="art-count" v-bind:class="{artCount:shopCart.totalNumber == 0}"  v-if="shopCart.totalNumber == 0"></i>
		                        </span>
                            </div>
                            <div class="weui_cell_primary">
                                <div class="pull-right">
                                    <button type="button" class="weui_btn weui_btn_mini weui_btn_main order-ok" style="height: 45px;border-radius: initial;"
                                            @click.stop="showCreateOrder(true)">点好了
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--多人点餐购物车end-->

        <!--多人买单界面-->
        <div class="weui_dialog_alert" v-if="groupCreateOrder && shop.openManyCustomerOrder == 1 && pageType != 'waimai'">
            <div class="weui_dialog ex_dialog">
                <div class="order-cart-list full-height">
                    <div class="shop-cart-items">
                        <div class="weui_cells margin-top-0">
                            <div class="weui-cell header_table" id="groupTitle">
                                <div class="weui-cell__bd">
                                    <span>共计已选<i>{{groupArticleCount}}</i>份菜品</span>
                                    <!--<span>(<i style="color: red;">!</i>表示好友点了同一份菜品哦)</span>-->
                                </div>
                            </div>

                            <div class="groupCartList" v-for="f in customerGroupList" v-if="customerGroupList.length">
                                <div class="weui-cell" style="padding: 6px 15px;background-color: #f4f4f4;color: #757575;">
                                    <div class="weui_flex_cart" style="text-align: left;">
                                        <img :src="f.headPhoto" style="width: 35px;vertical-align: middle;border-radius: 50%;" />
                                        <span style="vertical-align: middle;margin-left: 5px;">{{f.customerName}}</span>
                                    </div>
                                    <div class="weui_flex_cart">
                                        <span>{{f.articleCount}}份</span>
                                    </div>
                                    <div class="weui_flex_cart" style="text-align: right;">
                                        <img src="assets/img/groupMaster.png" class="groupImg" v-if="f.isLeader == 1" />
                                        <img src="assets/img/clearGroup.png" class="groupImg" @click="removeCustomer(f)" v-if="checkGroupLeader(customerGroupList, customerInfo) && f.isLeader == 0" />
                                    </div>
                                </div>
                                <div class="groupCartItem" v-for="item in shopCart.items" v-if="checkUserArticle(f.customerId,item.data) && getArticleCountByCustomer(f.customerId,item.data) != 0">
                                    <div class="weui_flex_cart" style="text-align: left;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;">
                                        <span>{{getArticleName(item.data)}}</span>
                                        <p v-if="item.type==3" class="mini" style="text-align: left;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;">
				                    	    <span v-for="attr in item.data.mealAttrs">
					                    		<label v-for="name in attr.currentItem">
			                                        {{name.name}}&nbsp;
			                                    </label>
					                    	</span>
					                    </p>
                                        <p class="mini" v-if="item.data.recommendList.length > 0" style="text-align: left;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;">
				                    	<span >
				                    		<label v-for="recommend in item.data.recommendList">
                                                {{recommend.articleName}} <label v-if="recommend.count > 1">X{{recommend.count}}</label> &nbsp;
                                            </label>
				                    	</span>
                                        </p>
                                    </div>

                                    <div class="weui_flex_cart">
                                        <span>x{{getArticleCountByCustomer(f.customerId,item.data)}}</span>
                                        <span style="position: absolute;left: 56%;">￥{{getArticlePrice(item.data)}}</span>
                                    </div>

                                    <div  class="weui_flex_cart group-item" v-if="f.customerId != customerInfo.id" >

                                    </div>

                                    <!--套餐模式显示-->
                                    <div v-if="item.type==3 && f.customerId == customerInfo.id" class="weui_flex_cart group-item">
                                    	<span class="numberControl">
	                                        <span @click="cutToShopCart(item.data)" class="cut-span">
	                                        	<i class="icon iconfont minus">&#xe751;</i></span>
	                                        <span class="art-number">{{item.data.number}}</span>
	                                        <span @click="showAction(item.data)" class="meals-edit plus-span">
	                                        	<i class="icon icon-pencil"></i></span>
                                        </span>
                                    </div>
                                    <!--套餐模式显示-->
                                    <!--新规格-->
                                    <div v-if="item.type==5 && item.data.recommendList.length == 0 && f.customerId == customerInfo.id " class="weui_flex_cart group-item">
                                    	<span class="numberControl">
                                    		<span @click="cutToShopCartNew(item.data)" class="cut-span">
                                    			<i class="icon iconfont minus">&#xe751;</i>
                                    		</span>
                                        	<span class="art-number">{{item.data.count}}</span>
                                        	<span @click="showActionNew(item.data)" class="meals-edit plus-span">
                                        		<i class="icon icon-pencil"></i>
                                        	</span>
                                    	</span>
                                    </div>
                                    <div v-if="item.data.recommendList.length > 0 && item.type != 5 && f.customerId == customerInfo.id" class="weui_flex_cart group-item">
			                            <span class="numberControl">
		                                    <span @click="cutToShopCart(item.data)" class="cut-span">
		                                    	<i class="icon iconfont minus">&#xe751;</i>
		                                    </span>
                                        	<span class="art-number">{{item.data.number}} </span>
                                       	 	<span @click="showAction(item.data,'edit')" class="meals-edit plus-span">
                                       	 		<i class="icon icon-pencil"></i>
                                       	 	</span>
                                        </span>
                                    </div>

                                    <div v-if="item.data.recommendList.length > 0 && item.type == 5 && f.customerId == customerInfo.id" class="weui_flex_cart group-item">
			                            <span class="numberControl">
		                                    <span @click="cutToShopCart(item.data)" class="cut-span">
		                                    	<i class="icon iconfont minus">&#xe751;</i>
		                                    </span>
	                                        <span class="art-number">{{item.data.count}}</span>
	                                        <span @click="showActionNew(item.data)" class="meals-edit plus-span">
	                                        	<i class="icon icon-pencil"></i>
	                                        </span>
                                        </span>
                                    </div>

                                    <div class="weui_flex_cart group-item" v-if="item.type != 5 && item.type != 3 && item.data.recommendList.length == 0 && f.customerId == customerInfo.id">
                                        <!--新规格-->
                                        <!--单品模式显示-->
                                        <article-operator :article.sync="item.data" @cut="cutToShopCart"
                                                          @add="addToShopCart"
                                        ></article-operator>
                                        <!--单品模式显示-->
                                    </div>
                                </div>
                            </div>
                            <div class="groupCartItem" v-if="soupList.length" style="font-weight: bold;">预点餐菜品</div>
                            <div class="groupCartItem" v-for="f in soupList" v-if="soupList.length">
                            	<div class="weui_cell_primary" style="text-align: left;">{{f.articleName}}</div>
                            	<p style="margin-right: 10px;">x{{f.count}}</p>
                            	<div class="weui_cell_ft" style="color: #000;">￥{{f.finalPrice}}</div>
                            </div>

                            <!-- 老版服务费 -->
                            <div class="weui_cell" v-if="allSetting.isUseServicePrice == 1 && shop.isUseServicePrice == 1 && !showContinue && distributionModeId==1 && shop.serviceType == 0">
                                <div class="weui_cell_bd weui_cell_primary">
                                    <p class="font-16">{{shop.serviceName}}</p>
                                </div>
                                <div class="weui_cell_ft" style="font-size: 16px;">
                                    <span class="price font-blod">{{servicePrice.toFixed(2)}}</span>
                                </div>
                            </div>

                            <!-- 新版服务费 -->
                            <div class="weui_cell" v-for="newService in shop.newServiceList" v-if="allSetting.isUseServicePrice == 1 && shop.isUseServicePrice == 1 && !showContinue && distributionModeId==1 && shop.serviceType == 1">
                                <div class="weui_cell_bd weui_cell_primary">
                                    <p class="font-16">{{newService.serviceName}}</p>
                                </div>
                                <div class="weui_cell_ft" style="font-size: 16px;">
                                    <span class="price font-blod">{{customerCountNow * newService.unitPrice}}</span>
                                </div>
                            </div>

                            <div class="weui_cell" v-if="shop.isMealFee == 1 && allSetting.isMealFee == 1 && distributionModeId != 1">
                                <div class="weui_cell_bd weui_cell_primary">
                                    <p class="font-16">{{shop.mealFeeName}}</p>
                                </div>
                                <div class="weui_cell_ft" style="font-size: 16px;">
                                    <span class="price font-blod">{{mealFeePrice.toFixed(2)}}</span>
                                </div>
                            </div>
                            <div class="weui_cell">
                                <div class="weui_cell_bd weui_cell_primary">
                                    <p class="font-16">总价</p>
                                </div>
                                <div class="weui_cell_ft" style="font-size: 16px;">
                                    <span class="price font-blod">{{shopCart.totalPrice.toFixed(2)}}</span>
                                </div>
                            </div>
                        </div>

                        <div class="order-operator-div">
                            <div class="weui_cells black-right-icon">
                                <!--外卖模式-->
                                <div class="weui_cell weui_cells_access" :class="{hasAddress:myAddress}" style="border-bottom: 1px solid #e7e7e7;" @click="deliveryAddress" v-if="distributionModeId == 2">
                                    <div class="weui_cell_bd">
                                        <p style="font-size: 16px;">配送地址</p>
                                    </div>
                                    <div class="myAddressInFor" v-if="myAddress">
                                        <div class="inMiddle">
                                            <p class="weui_cell_primary order_address">{{myAddress.address}} {{myAddress.addressReality}}</p>
                                            <p>
                                                <span>{{myAddress.name}}  <i v-if="myAddress.sex == 0">先生</i><i v-if="myAddress.sex == 1">女士</i></span>
                                                <span>{{myAddress.mobileNo}}</span>
                                            </p>
                                        </div>
                                    </div>
                                    <div class="weui_cell_ft" style="flex: 1;">
                                        <span style="font-size: 16px;color:#878989;" v-if="addressList.length == 0 && !myAddress">新增地址</span>
                                        <span style="font-size: 16px;color:#878989;" v-if="addressList.length > 0 && !myAddress">选择地址</span>
                                    </div>
                                </div>
                                <!--桌号信息-->
                                <span v-if="parentId == null">
	                                <div class="weui_cell" style="border-bottom: 1px solid #e7e7e7;" @click="choiceDistributionModeId">
	                                    <!--只有当选择堂食的时候显示桌号信息-->
	                                    <div class="weui_cell_bd weui_cell_primary">
	                                        <p>就餐模式</p>
	                                        <span class="personInfor" style="color:#878989" v-if="distributionModeId == 1">{{tableNumber}}</span>
	                                        <span class="personInfor" style="color:#878989" v-if="distributionModeId == 3"><span v-if="shop.continueOrderScan == 0">无</span><span v-if="shop.continueOrderScan == 1">{{tableNumber}}</span></span>
	                                    </div>
	                                    <div class="weui_cell_hd">
	                                        <span v-if="distributionModeId==1" style="color: #0CA50A;font-size: 16px;">堂食</span>
	                                        <span v-if="distributionModeId==3" style="color: #0CA50A;font-size: 16px;">外带</span>
	                                        <span v-if="distributionModeId==2" style="color: #0CA50A;font-size: 16px;">外卖</span>
	                                    </div>
	                                </div>
	                            </span>
                                <span v-if="parentId != null">
	                                <div class="weui_cell" style="border-bottom: 1px solid #e7e7e7;" >
	                                    <!--只有当选择堂食的时候显示桌号信息-->
	                                    <div class="weui_cell_bd weui_cell_primary">
	                                        <p>就餐模式</p>
	                                        <span class="personInfor" style="color:#878989" v-if="orderBoss.tableNumber">{{orderBoss.tableNumber}}</span>
	                                    </div>
	                                    <div class="weui_cell_ft">
	                                        <span v-if="distributionModeId==1" style="color: #c81623;font-size: 16px;">堂食</span>
	                                        <span v-if="distributionModeId==3" style="color: #c81623;font-size: 16px;">外带</span>
	                                        <span v-if="distributionModeId==2" style="color: #0CA50A;font-size: 16px;">外卖</span>
	                                    </div>
	                                </div>
	                            </span>
                                <!--就餐人数-->
                                <div class="weui_cell weui_cells_access" style="border-bottom: 1px solid #e7e7e7;" @click="showCustomerCount"
                                     v-if="allSetting.isUseServicePrice == 1 && shop.isUseServicePrice == 1 && !showContinue && (distributionModeId == 1 || !distributionModeId)">
                                    <div class="weui_cell_hd">
                                        <p style="font-size: 16px">就餐人数</p>
                                    </div>
                                    <div class="weui_cell_bd weui_cell_primary">
                                        <div style="margin-left: 25px;">
		                                <span>{{customerCountNow}}</span>
                                        </div>
                                    </div>
                                </div>
                                <!--订单备注-->
                                <div class="weui_cell weui_cells_access" style="border-bottom: 1px solid #e7e7e7;" @click="showDishRemarks" v-if="shop.orderRemarkShow">
                                    <div class="weui_cell_bd weui_cell_primary">
                                        <p>订单备注</p>
                                        <span class="personInfor" style="color:#878989;" v-if="remarks">{{orderRemarksText}}</span>
                                    </div>
                                    <div class="weui_cell_ft">
                                        <span style="font-size: 16px;color:#878989;" v-if="!remarks">口味、偏好等</span>
                                    </div>
                                </div>
                                <span v-if="shop.shopMode != 5 && parentId == null">
									<div class="weui_cell weui_cell_select weui_select_after" style="border-bottom: 1px solid #e7e7e7;"
                                         v-if='canUseCoupon.length'>
		                                <div class="weui_cell_hd" style="font-size: 16px;">可用优惠</div>
		                                <div class="weui_cell_bd weui_cell_primary">
		                                    <select class="weui_select" name="couponId" v-model="couponId">
		                                        <option v-for="coupon in canUseCoupon" :value="coupon.id"
                                                        :data-value="coupon.value"
                                                        v-bind="{selected:$index==0}">
		                                            {{coupon.name}} ￥{{coupon.value}}元
		                                        </option>
		                                    </select>
		                                </div>
		                            </div>
								</span>

                                <span v-if="shop.shopMode != 5">
									<div class="weui_cell weui_cell_switch" v-if="useCouponAmount>0">
		                                <div class="weui_cell_hd weui_cell_primary">
		                                	<p>可用余额</p>
		                                	<span class="price personInfor">{{customerInfo.account}}</span>
		                                </div>
		                                <div class="weui_cell_ft">
											<span class="weui_switch useaccount"
                                                  :class="{'checked':checkAccount}" @click="useChecked">
											</span>
		                                </div>
		                            </div>

		                            <div class="weui_cell weui_cell_switch" v-if="useWaitMoney">
		                                <div class="weui_cell_hd weui_cell_primary">等位红包 <span class="price">{{waitMoney}}</span>
		                                </div>
		                            </div>

									<charge-rule :chargelist="chargeList"></charge-rule>

									<div class="weui_cell"  style="border-bottom: 1px solid #e7e7e7;">
		                                <div class="weui_cell_bd weui_cell_primary">
		                                    <p>实付金额</p>
		                                </div>
		                                <div class="weui_cell_ft" style="font-size: 16px;color: #c81623;">
		                                	<span class="customerDiscount" style="top: initial;vertical-align: initial;" v-if="customerDiscount != null">{{customerDiscount.toFixed(1)}}折</span>
		                                    <span class="price">{{finalAmount.toFixed(2)}}</span>
		                                </div>
		                            </div>
								</span>
                            </div>
                            <div class="weui_btn_area padding-bottom">
                                <!--<button type="button" class="weui_btn weui_btn_main"-->
                                        <!--@click.stop="createOrder(shop.shopMode,'buy')" v-if="shop.shopMode == 5"><label-->
                                        <!--v-if="!showContinue">下单</label><label v-if="showContinue">加菜</label></button>-->
                                <!--<button type="button" class="weui_btn weui_btn_main"-->
                                        <!--@click="createOrder(shop.shopMode,'pay')" v-if="shop.shopMode != 5">买单-->
                                <!--</button>-->
                                <!-- 堂食 或者外带需要扫码的时候  未扫码进入店铺  则显示当前状态为需要扫码下单 -->
                            <span v-if="parentId == null && distributionModeId == 3 && tableNumber == null && shop.continueOrderScan == 0">style="width: 48%;position: relative;left: 4%;"
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeGroupOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="!payStates" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'pay')">买单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="payStates" style="background-color:#f2f2f2;color:#ccc;width: 48%;position: relative;left: 4%;">付款中</button>
	                        </span>
                            <span v-if="parentId == null && distributionModeId == 3 && tableNumber != null && shop.continueOrderScan == 1">
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeGroupOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="!payStates" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'pay')">买单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="payStates" style="background-color:#f2f2f2;color:#ccc;width: 48%;position: relative;left: 4%;">付款中</button>
	                        </span>
                            <span v-if="parentId == null && shop.allowAfterPay == 1 && shop.allowFirstPay ==0 && distributionModeId == 1 && tableNumber!=null">
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeGroupOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="!payStates" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'pay')">买单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="payStates" style="background-color:#f2f2f2;color:#ccc;width: 48%;position: relative;left: 4%;">付款中</button>
	                        </span>
                            <span v-if="parentId == null && shop.allowAfterPay == 0 && shop.allowFirstPay ==1 && distributionModeId == 1 && tableNumber!=null && orderBoss.orderState >= 2 && orderBoss.orderState != 9">
	                            <button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeGroupOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="!payStates" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'pay')">买单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="payStates" style="background-color:#f2f2f2;color:#ccc;width: 48%;position: relative;left: 4%;">付款中</button>
	                        </span>
                            <span v-if="parentId == null && shop.allowAfterPay == 0 && shop.allowFirstPay ==1 && distributionModeId == 1 && tableNumber!=null ">
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeGroupOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'buy')">下单</button>
	                        </span>
                                <!-- 先付后付同时存在 -->
                            <span v-if="parentId == null && distributionModeId == 1 && shop.allowAfterPay == 0 && shop.allowFirstPay == 0 && tableNumber!=null">
	                            <button type="button" class="weui_btn weui_btn_main" style="float: left;width: 48%;" @click.stop="createOrder(shop.shopMode,'buy')">稍后支付</button>
	                            <button type="button" class="weui_btn weui_btn_main" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'pay')">立即支付</button>
	                        </span>
                                <!-- 加菜 -->
                            <span v-if="parentId != null && firstPayType == 0">
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeGroupOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="!payStates" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'pay')">买单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="payStates" style="background-color:#f2f2f2;color:#ccc;width: 48%;position: relative;left: 4%;">付款中</button>
	                        </span>
                            <span v-if="parentId != null && firstPayType == 1 && orderBoss.orderState >= 2 && orderBoss.orderState != 9">
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeGroupOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="!payStates" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'pay')">买单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="payStates" style="background-color:#f2f2f2;color:#ccc;width: 48%;position: relative;left: 4%;">付款中</button>
	                        </span>
                            <span v-if="parentId != null && firstPayType == 1 && orderBoss.orderState == 1">
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeGroupOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'buy')">下单</button>
	                        </span>
                                <!-- 外带是否需要扫码 (不需要)  扫码进是否堂食(需选择就餐模式) 的时候显示 -->
                            <span v-if="parentId == null && distributionModeId == 3 && shop.continueOrderScan == 0 && shop.sweepMode == 1 && shop.allowAfterPay == 1 && shop.allowFirstPay == 0 && tableNumber != null">
	                            <button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeGroupOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="!payStates" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'pay')">买单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="payStates" style="background-color:#f2f2f2;color:#ccc;width: 48%;position: relative;left: 4%;">付款中</button>
	                        </span>
                            <span v-if="parentId == null && distributionModeId == 3 && shop.continueOrderScan == 0 && shop.sweepMode == 1 && shop.allowAfterPay == 0 && shop.allowFirstPay == 1 && tableNumber != null">
	                            <button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeGroupOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'buy')">下单</button>
	                        </span>
                            <span v-if="parentId == null && distributionModeId == 3 && shop.continueOrderScan == 0 && shop.sweepMode == 1 && shop.allowAfterPay == 0 && shop.allowFirstPay == 0 && tableNumber != null">
	                            <button type="button" class="weui_btn weui_btn_main" style="float: left;width: 48%;" @click.stop="createOrder(shop.shopMode,'buy')">稍后支付</button>
	                            <button type="button" class="weui_btn weui_btn_main" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'pay')">立即支付</button>
	                        </span>
                            <span v-if="distributionModeId == 2">
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeGroupOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="!payStates" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'pay')">买单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="payStates" style="background-color:#f2f2f2;color:#ccc;width: 48%;position: relative;left: 4%;">付款中</button>
	                        </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="weui_dialog_alert" v-if="shop.shopMode != 6 && isCreateOrder">
            <div class="weui_dialog ex_dialog">
                <div class="order-cart-list full-height">
                    <div class="shop-cart-items">
                        <div class="weui_cells margin-top-0">
                            <div class="weui_cell order-item" v-for="item in shopCart.items" style="padding: 5px 15px;">
                                <div class="weui_cell_bd weui_cell_primary">
                                    <p class="cart-item-name">{{item.name}}</p>
                                    <p v-if="item.type==3" class="mini">
			                    	<span v-for="attr in item.data.mealAttrs">
			                    		<label v-for="name in attr.currentItem">
	                                        {{name.name}}&nbsp;
	                                    </label>
			                    	</span>
                                    </p>
                                    <p class="mini" v-if="item.data.recommendList.length > 0">
			                    	<span >
			                    		<label v-for="recommend in item.data.recommendList">
	                                        {{recommend.articleName}} <label v-if="recommend.count > 1">x{{recommend.count}}</label> &nbsp;
	                                    </label>
			                    	</span>
                                    </p>
                                    <!-- <p class="price mini" v-else>{{item.data.realPrice}}</p>-->
                                </div>
                                <div v-if="item.type==3 || item.type == 1 || item.type == 2 || item.type == 6" class="numberControl">
                                    <span class="art-number">x {{item.data.number}}</span>
                                </div>
                                <div v-if="item.type==5" class="numberControl">
                                    <span class="art-number">x {{item.data.count}}</span>
                                </div>
                            </div>

                            <!-- 新版服务费 -->
                            <div class="weui_cell" v-for="newService in shop.newServiceList" v-if="allSetting.isUseServicePrice == 1 && shop.isUseServicePrice == 1 && !showContinue && distributionModeId==1 && shop.serviceType == 1">
                                <div class="weui_cell_bd weui_cell_primary">
                                    <p class="font-16">{{newService.serviceName}}</p>
                                </div>
                                <div class="weui_cell_ft" style="font-size: 16px;">
                                    <span class="price font-blod">{{customerCountNow * newService.unitPrice}}</span>
                                </div>
                            </div>

                            <!-- 老版服务费 -->
                            <div class="weui_cell" v-if="allSetting.isUseServicePrice == 1 && shop.isUseServicePrice == 1 && !showContinue && distributionModeId==1 && shop.serviceType == 0">
                                <div class="weui_cell_bd weui_cell_primary">
                                    <p class="font-16">{{shop.serviceName}}</p>
                                </div>
                                <div class="weui_cell_ft" style="font-size: 16px;">
                                    <span class="price font-blod">{{servicePrice.toFixed(2)}}</span>
                                </div>
                            </div>


                            <div class="weui_cell" v-if="shop.isMealFee == 1 && allSetting.isMealFee == 1 && distributionModeId != 1">
                                <div class="weui_cell_bd weui_cell_primary">
                                    <p class="font-16">{{shop.mealFeeName}}</p>
                                </div>
                                <div class="weui_cell_ft" style="font-size: 16px;">
                                    <span class="price font-blod">{{mealFeePrice.toFixed(2)}}</span>
                                </div>
                            </div>
                            <div class="weui_cell">
                                <div class="weui_cell_bd weui_cell_primary">
                                    <p class="font-16">总价</p>
                                </div>
                                <div class="weui_cell_ft" style="font-size: 16px;">
                                    <span class="price font-blod">{{shopCart.totalPrice.toFixed(2)}}</span>
                                </div>
                            </div>
                        </div>

                        <div class="order-operator-div">
                            <div class="weui_cells black-right-icon">
                                <!--外卖模式-->
                                <div class="weui_cell weui_cells_access" :class="{hasAddress:myAddress}" style="border-bottom: 1px solid #e7e7e7;" @click="deliveryAddress" v-if="distributionModeId == 2">
                                    <div class="weui_cell_bd">
                                        <p style="font-size: 16px;">配送地址</p>
                                    </div>
                                    <div class="myAddressInFor" v-if="myAddress">
                                        <div class="inMiddle">
                                            <p class="weui_cell_primary order_address">{{myAddress.address}} {{myAddress.addressReality}}</p>
                                            <p>
                                                <span>{{myAddress.name}}  <i v-if="myAddress.sex == 0">先生</i><i v-if="myAddress.sex == 1">女士</i></span>
                                                <span>{{myAddress.mobileNo}}</span>
                                            </p>
                                        </div>
                                    </div>
                                    <div class="weui_cell_ft" style="flex: 1;">
                                        <span style="font-size: 16px;color:#878989;" v-if="addressList.length == 0 && !myAddress">新增地址</span>
                                        <span style="font-size: 16px;color:#878989;" v-if="addressList.length > 0 && !myAddress">选择地址</span>
                                    </div>
                                </div>
                                <!--订单备注-->
                                <div class="weui_cell weui_cells_access" style="border-bottom: 1px solid #e7e7e7;" @click="showDishRemarks" v-if="shop.orderRemarkShow">
                                    <div class="weui_cell_bd weui_cell_primary">
                                        <p>订单备注</p>
                                        <span class="personInfor" style="color:#878989;" v-if="remarks">{{orderRemarksText}}</span>
                                    </div>
                                    <div class="weui_cell_ft">
                                        <span style="font-size: 16px;color:#878989;" v-if="!remarks">口味、偏好等</span>
                                    </div>
                                </div>
                                <span v-if="shop.shopMode != 5 && parentId == null">
									<div class="weui_cell weui_cell_select weui_select_after" style="border-bottom: 1px solid #e7e7e7;"
                                         v-if='canUseCoupon.length'>
		                                <div class="weui_cell_hd" style="font-size: 16px;">可用优惠</div>
		                                <div class="weui_cell_bd weui_cell_primary">
		                                    <select class="weui_select" name="couponId" v-model="couponId">
		                                        <option v-for="coupon in canUseCoupon" :value="coupon.id"
                                                        :data-value="coupon.value"
                                                        v-bind="{selected:$index==0}">
		                                            {{coupon.name}} ￥{{coupon.value}}元
		                                        </option>
		                                    </select>
		                                </div>
		                            </div>
								</span>

                                <span v-if="shop.shopMode != 5">
									<div class="weui_cell weui_cell_switch" v-if="useCouponAmount>0">
		                                <div class="weui_cell_hd weui_cell_primary">
		                                	<p>可用余额</p>
		                                	<span class="price personInfor">{{customerInfo.account}}</span>
		                                </div>
		                                <div class="weui_cell_ft">
											<span class="weui_switch useaccount"
                                                  :class="{'checked':checkAccount}" @click="useChecked">
											</span>
		                                </div>
		                            </div>
									
		                            <div class="weui_cell weui_cell_switch" v-if="useWaitMoney">
		                                <div class="weui_cell_hd weui_cell_primary">等位红包 <span class="price">{{waitMoney}}</span>
		                                </div>
		                            </div>
		
									<charge-rule :chargelist="chargeList"></charge-rule>
		
									<div class="weui_cell">
		                                <div class="weui_cell_bd weui_cell_primary">
		                                    <p>实付金额</p>
		                                </div>
                                        <div class="weui_cell_ft" style="font-size: 16px;color: #c81623;">
                                        	<span class="customerDiscount" style="top: initial;vertical-align: initial;" v-if="customerDiscount != null">{{customerDiscount.toFixed(1)}}折</span>
		                                    <span class="price">{{finalAmount.toFixed(2)}}</span>
		                                </div>
		                            </div>
								</span>
								<!--就餐人数-->
                                <div class="weui_cell weui_cells_access" style="border-bottom: 1px solid #e7e7e7;" @click="showCustomerCount"
                                     v-if="allSetting.isUseServicePrice == 1 && shop.isUseServicePrice == 1 && !showContinue && (distributionModeId == 1 || !distributionModeId)">
                                    <div class="weui_cell_hd">
                                        <p style="font-size: 16px">就餐人数</p>
                                    </div>
                                    <div class="weui_cell_bd weui_cell_primary">
                                        <div style="margin-left: 25px;">
		                                <span>{{customerCountNow}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="weui_btn_area padding-bottom">
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeCreateOrder">继续点单</button>
                                <button type="button" class="weui_btn weui_btn_main" style="width: 48%;position: relative;left: 4%;"
                                        @click.stop="createOrder(shop.shopMode,'buy')" v-if="shop.shopMode == 5"><label
                                        v-if="!showContinue">下单</label><label v-if="showContinue">加菜</label></button>
                                <button type="button" class="weui_btn weui_btn_main" style="width: 48%;position: relative;left: 4%;"
                                        @click="createOrder(shop.shopMode,'pay')" v-if="shop.shopMode != 5">买单
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="weui_dialog_alert" v-if="shop.shopMode == 6 && isCreateOrder">
            <div class="weui_dialog ex_dialog">
                <div class="order-cart-list full-height">
                    <!--菜品明细列表-->
                    <div class="shop-cart-items">
                        <div class="weui_cells margin-top-0">
                            <div class="weui_cell order-item" v-for="item  in shopCart.items">
                                <div class="weui_cell_bd weui_cell_primary">
                                    <p class="cart-item-name">{{item.name}}</p> <!--菜品名称-->
                                    <!--套餐时显示-->
                                    <p v-if="item.type==3" class="mini">
							   			<span v-for="attr in item.data.mealAttrs">
							      			<label v-for="name in attr.currentItem">{{name.name}}&nbsp;</label>
							   			</span>
                                    </p>
                                    <p class="mini" v-if="item.data.recommendList.length > 0">
										<span >
							   				<label v-for="recommend in item.data.recommendList">
							                       {{recommend.articleName}} <label v-if="recommend.count > 1">x{{recommend.count}}</label> &nbsp;
							                </label>
										</span>
                                    </p>
                                    <!--<p class="price mini" v-else>{{item.data.realPrice}}</p>-->
                                </div>

                                <div class="weui_cell_ft" v-if="item.type==3">
                                    <div class="numberControl">
	                                    <span @click="cutToShopCart(item.data)" class="cut-span"><i
                                                class="icon iconfont minus">&#xe751;</i></span>
                                        <span class="art-number">{{item.data.number}}</span>
                                        <span @click="showAction(item.data)" class="meals-edit plus-span"><i
                                                class="icon icon-pencil"></i></span>
                                    </div>
                                </div>
                                <!--不存在套餐和推荐餐包及新规格显示加减-->
                                <div class="weui_cell_ft" v-if="item.type != 5 && item.type != 3 && item.type != 6 && item.type != 8">
                                    <article-operator :article.sync="item.data" @cut="cutToShopCart" @add="addToShopCart"></article-operator>
                                </div>
                                <!--新规格单品不含餐包-->
                                <div v-if="item.type==5 && item.data.recommendList.length == 0 " class="numberControl">
			                        <span @click="cutToShopCartNew(item.data)" class="cut-span">
			                        	<i class="icon iconfont minus">&#xe751;</i>
			                        </span>
                                    <span class="art-number">{{item.data.count}}</span>
                                    <span @click="showActionNew(item.data)" class="meals-edit plus-span">
			                        	<i class="icon icon-pencil"></i>
			                        </span>
                                </div>
                                <!--只有推荐餐包-->
                                <div v-if="item.data.recommendList.length > 0 && item.type != 5 && item.type != 8" class="numberControl">
	                            	<span @click="cutToShopCart(item.data)" class="cut-span">
	                            		<i class="icon iconfont minus">&#xe751;</i>
	                            	</span>
                                    <span class="art-number">{{item.data.number}}</span>
                                    <span @click="showAction(item.data,'edit')" class="meals-edit plus-span">
		                            	<i class="icon icon-pencil"></i>
		                            </span>
                                </div>
                                <!--同时存在新规格单品和推荐餐包-->
                                <div v-if="item.data.recommendList.length > 0 && item.type == 5" class="numberControl">
					                <span @click="cutToShopCart(item.data)" class="cut-span">
					                	<i class="icon iconfont minus">&#xe751;</i>
					                </span>
                                    <span class="art-number">{{item.data.count}}</span>
                                    <span @click="showActionNew(item.data)" class="meals-edit plus-span">
					                	<i class="icon icon-pencil"></i>
									</span>
                                </div>
                                <!--重量包-->
                                <div v-if="item.type == 8" class="numberControl">
					                <span @click="cutToShopCart(item.data)" class="cut-span">
					                	<i class="icon iconfont minus">&#xe751;</i>
					                </span>
                                    <span class="art-number">{{item.data.count}}</span>
                                    <span @click="showActionNew(item.data)" class="meals-edit plus-span">
					                	<i class="icon icon-pencil"></i>
									</span>
                                </div>
                            </div>
                            <div class="groupCartItem" v-if="soupList.length" style="font-weight: bold;">预点餐菜品</div>
                            <div class="groupCartItem" v-for="f in soupList" v-if="soupList.length">
                            	<div class="weui_cell_primary" style="text-align: left;">{{f.articleName}}</div>
                            	<p style="margin-right: 10px;">x{{f.count}}</p>
                            	<div class="weui_cell_ft" style="color: #000;">￥{{f.finalPrice}}</div>
                            </div>
                            <!--堂吃老版服务费-->
                            <div class="weui_cell" v-if="allSetting.isUseServicePrice == 1 && shop.isUseServicePrice == 1 && !showContinue && distributionModeId==1 && shop.serviceType == 0">
                                <div class="weui_cell_bd weui_cell_primary">
                                    <p class="font-16">{{shop.serviceName}}</p>
                                </div>
                                <div class="weui_cell_ft" style="font-size: 16px;">
                                    <span class="price font-blod">{{servicePrice.toFixed(2)}}</span>
                                </div>
                            </div>
                            <!--堂吃新版服务费-->
                            <div class="weui_cell" v-for="newService in shop.newServiceList" v-if="allSetting.isUseServicePrice == 1 && shop.isUseServicePrice == 1 && !showContinue && distributionModeId==1 && shop.serviceType == 1">
                                <div class="weui_cell_bd weui_cell_primary">
                                    <p class="font-16">{{newService.serviceName}}</p>
                                </div>
                                <div class="weui_cell_ft" style="font-size: 16px;">
                                    <span class="price font-blod">{{customerCountNow * newService.unitPrice}}</span>
                                </div>
                            </div>
                            <!--外带打包费-->
                            <div class="weui_cell" v-if="shop.isMealFee == 1 && allSetting.isMealFee == 1 && orderBossCanhePrice == null && distributionModeId != 1">
                                <div class="weui_cell_bd weui_cell_primary">
                                    <p class="font-16">{{shop.mealFeeName}}</p>
                                </div>
                                <div class="weui_cell_ft" style="font-size: 16px;">
                                    <span class="price font-blod">{{mealFeePrice.toFixed(2)}}</span>
                                </div>
                            </div>
                            <!-- 老订单 -->
                            <div class="weui_cell order-item" v-for="item in orderBossItem">
                                <div class="weui_cell_bd weui_cell_primary">
                                    <p class="cart-item-name" v-if="item.type != 6 && !soupList.length">{{item.articleName}}</p>
                                    <p v-if="item.type==3" class="mini">
	                                    <span v-for="attr in item.children">
	                                        <label>{{attr.articleName}}&nbsp;</label>
	                                    </span>
                                    </p>
                                    <p class="mini" v-if="item.type==1">
	                                    <span >
	                                        <label v-for="it in orderBossItemAll">
	                                            <span v-if="it.parentId==item.articleId && it.orderId==item.orderId && item.type==1 && it.type==6">
	                                                {{it.articleName}}<label>x{{it.count}}</label> &nbsp;
	                                            </span>
	                                        </label>
	                                    </span>
                                    </p>
                                    <p class="mini" v-if="item.type==5">
	                                        <span>
	                                            <label v-for="it in orderBossItemAll">
	                                                <span v-if="it.parentId==item.parentId && item.type==5 && it.type==6">
	                                                    {{it.articleName}}<label>x{{it.count}}</label> &nbsp;
	                                                </span>
	                                            </label>
	                                        </span>
                                    </p>
                                    <p class="mini" v-if="item.type==8">
                                        <span>
                                            <label v-for="it in orderBossItemAll">
                                                <span v-if="it.parentId==item.parentId && item.type==8 && it.type==6">
                                                    {{it.articleName}}<label>x{{it.count}}</label> &nbsp;
                                                </span>
                                            </label>
                                        </span>
                                    </p>
                                </div>
                                <div class="weui_cell_ft" v-if="item.type != 6 && item.type != 4 && !soupList.length">
                                    <span class="art-number">x{{item.count}}</span>
                                </div>
                                <div v-if="item.recommendList.length > 0 && item.type != 5 && item.type != 2 && item.type != 4" class="numberControl">
	                                <span @click="cutToShopCart(item.data)" class="cut-span">
	                                    <i class="icon iconfont minus">&#xe751;</i>
	                                </span>
                                    <span class="art-number">{{item.number}}</span>
                                    <span @click="" class="meals-edit plus-span">
	                                    <i class="icon icon-pencil"></i>
	                                </span>
                                </div>

                                <div v-if="item.recommendList.length > 0 && item.type == 5" class="numberControl">
	                                <span @click="cutToShopCart(item.data)" class="cut-span">
	                                    <i class="icon iconfont minus">&#xe751;</i>
	                                </span>
                                    <span class="art-number">{{item.count}}</span>
                                    <span @click="" class="meals-edit plus-span">
	                                    <i class="icon icon-pencil"></i>
	                                </span>
                                </div>
                            </div>
                            <!--老版堂吃服务费-->
                            <div class="weui_cell" v-if="orderBoss.servicePrice>0 && orderBoss.isUseNewService == 0">
                                <div class="weui_cell_bd weui_cell_primary">
                                    <p class="font-16">{{shop.serviceName}}</p>
                                </div>
                                <div class="weui_cell_ft" style="font-size: 16px;">
                                    <span class="price font-blod">{{orderBoss.servicePrice.toFixed(2)}}</span>
                                </div>
                            </div>

                            <!--新版堂吃服务费-->
                            <div class="weui_cell" v-for="orderService in orderBoss.serviceList" v-if="orderBoss.servicePrice>0 && orderBoss.isUseNewService == 1">
                                <div class="weui_cell_bd weui_cell_primary">
                                    <p class="font-16">{{orderService.name}}</p>
                                </div>
                                <div class="weui_cell_ft" style="font-size: 16px;">
                                    <span class="price font-blod">{{orderService.count * orderService.unitPrice}}</span>
                                </div>
                            </div>

                            <!--外带打包费-->
                            <div class="weui_cell" v-if="orderBoss.mealFeePrice>0">
                                <div class="weui_cell_bd weui_cell_primary">
                                    <p class="font-16">{{shop.mealFeeName}}</p>
                                </div>
                                <div class="weui_cell_ft" style="font-size: 16px;">
                                    <!--<span class="price font-blod">{{(orderBossCanhePrice+mealFeePrice).toFixed(2)}}</span>-->
                                    <span class="price font-blod">{{mealFeeNumber.toFixed(2)}}</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="order-operator-div">
                        <div class="weui_cells black-right-icon">
                            <div>
                                <!--外卖模式-->
                                <div class="weui_cell weui_cells_access" :class="{hasAddress:myAddress}" style="border-bottom: 1px solid #e7e7e7;" @click="deliveryAddress" v-if="distributionModeId == 2">
                                    <div class="weui_cell_bd">
                                        <p style="font-size: 16px;">配送地址</p>
                                    </div>
                                    <div class="myAddressInFor" v-if="myAddress">
                                        <div class="inMiddle">
                                            <p class="weui_cell_primary order_address">{{myAddress.address}} {{myAddress.addressReality}}</p>
                                            <p>
                                                <span>{{myAddress.name}}  <i v-if="myAddress.sex == 0">先生</i><i v-if="myAddress.sex == 1">女士</i></span>
                                                <span>{{myAddress.mobileNo}}</span>
                                            </p>
                                        </div>
                                    </div>
                                    <div class="weui_cell_ft" style="flex: 1;">
                                        <span style="font-size: 16px;color:#878989;" v-if="addressList.length == 0 && !myAddress">新增地址</span>
                                        <span style="font-size: 16px;color:#878989;" v-if="addressList.length > 0 && !myAddress">选择地址</span>
                                    </div>
                                </div>
                                <!--订单备注-->
                                <div class="weui_cell weui_cells_access" style="border-bottom: 1px solid #e7e7e7;" @click="showDishRemarks" v-if="shop.orderRemarkShow">
                                    <div class="weui_cell_bd weui_cell_primary">
                                        <p>订单备注</p>
                                        <span class="personInfor" style="color:#878989;" v-if="remarks">{{orderRemarksText}}</span>
                                    </div>
                                    <div class="weui_cell_ft">
                                        <span style="font-size: 16px;color:#878989;" v-if="!remarks">口味、偏好等</span>
                                    </div>
                                </div>
                                <!--桌号信息-->
                                <span v-if="parentId == null">
	                                <div class="weui_cell" style="border-bottom: 1px solid #e7e7e7;" @click="choiceDistributionModeId">
	                                    <!--只有当选择堂食的时候显示桌号信息-->
	                                    <div class="weui_cell_bd weui_cell_primary">
	                                        <p>就餐模式</p>
	                                        <span class="personInfor" style="color:#878989" v-if="distributionModeId == 1">{{tableNumber}}</span>
	                                        <span class="personInfor" style="color:#878989" v-if="distributionModeId == 3"><span v-if="shop.continueOrderScan == 0">无</span><span v-if="shop.continueOrderScan == 1">{{tableNumber}}</span></span>
	                                    </div>
	                                    <div class="weui_cell_hd">
	                                        <span v-if="distributionModeId==1" style="color: #0CA50A;font-size: 16px;">堂食</span>
	                                        <span v-if="distributionModeId==3" style="color: #0CA50A;font-size: 16px;">外带</span>
	                                        <span v-if="distributionModeId==2" style="color: #0CA50A;font-size: 16px;">外卖</span>
	                                    </div>
	                                </div>
	                            </span>
                                <span v-if="parentId != null">
	                                <div class="weui_cell" style="border-bottom: 1px solid #e7e7e7;" >
	                                    <!--只有当选择堂食的时候显示桌号信息-->
	                                    <div class="weui_cell_bd weui_cell_primary">
	                                        <p>就餐模式</p>
	                                        <span class="personInfor" style="color:#878989" v-if="orderBoss.tableNumber">{{orderBoss.tableNumber}}</span>
	                                    </div>
	                                    <div class="weui_cell_ft">
	                                        <span v-if="distributionModeId==1" style="color: #c81623;font-size: 16px;">堂食</span>
	                                        <span v-if="distributionModeId==3" style="color: #c81623;font-size: 16px;">外带</span>
	                                        <span v-if="distributionModeId==2" style="color: #0CA50A;font-size: 16px;">外卖</span>
	                                    </div>
	                                </div>
	                            </span>
                                <!--就餐人数-->
                                <div class="weui_cell weui_cells_access" style="border-bottom: 1px solid #e7e7e7;" @click="showCustomerCount"
                                     v-if="allSetting.isUseServicePrice == 1 && shop.isUseServicePrice == 1 && !showContinue && (distributionModeId == 1 || !distributionModeId)">
                                    <div class="weui_cell_hd">
                                        <p style="font-size: 16px">就餐人数</p>
                                    </div>
                                    <div class="weui_cell_bd weui_cell_primary">
                                        <div style="margin-left: 25px;">
		                                <span>{{customerCountNow}}</span>
                                        </div>
                                    </div>
                                </div>
                                <!--当有预点餐菜品并开启服务费需输入就餐人数-->
								<div class="weui_cell weui_cells_access" style="border-bottom: 1px solid #e7e7e7;" @click="showCustomerCount"
									 v-if="allSetting.isUseServicePrice == 1 && shop.isUseServicePrice == 1 && showContinue && soupList.length>0">
									<div class="weui_cell_hd">
										<p style="font-size: 16px">就餐人数</p>
									</div>
									<div class="weui_cell_bd weui_cell_primary">
										<div style="margin-left: 25px;">
											<span>{{customerCountNow}}</span>
										</div>
									</div>
								</div>
                                <!--可用的优惠券-->
                                <span v-if="parentId == null">
									<div class="weui_cell weui_cell_select weui_select_after"
                                         v-if='canUseCoupon.length' style="border-bottom: 1px solid #e7e7e7;">
	                                    <div class="weui_cell_hd" style="font-size: 16px;">可用优惠</div>
	                                    <div class="weui_cell_bd weui_cell_primary">
	                                        <select class="weui_select" name="couponId" v-model="couponId">
	                                            <option v-for="coupon in canUseCoupon" :value="coupon.id"
                                                        :data-value="coupon.value"
                                                        v-bind="{selected:$index==0}">
	                                                {{coupon.name}} ￥{{coupon.value}}元
	                                            </option>
	                                        </select>
	                                    </div>
	                                </div>
								</span>
                                <!--不是后付款模式的情况-->
                                <div class="weui_cell weui_cell_switch" v-if="useCouponAmount>0">
                                    <div class="weui_cell_hd weui_cell_primary">
                                        <p>可用余额</p>
                                        <span class="price personInfor">{{customerInfo.account.toFixed(2)}}
                                    		<span style="color: #c81623;font-size: 14px;" v-if="waitMoney>0">(+￥{{waitMoney}})</span>
                                    	</span>
                                    </div>
                                    <div class="weui_cell_ft">
										<span class="weui_switch useaccount"
                                              :class="{'checked':checkAccount}" @click="useChecked">
										</span>
                                    </div>
                                </div>
                                <!--充值赠送-->
                                <charge-rule :chargelist="chargeList"></charge-rule>
                                <div class="weui_cell">
                                    <div class="weui_cell_bd weui_cell_primary">
                                        <p>实付金额</p>
                                        <span class="personInfor" :class="{finalPrice:true}" style="font-size: 14px;">
                                        	原价￥{{orderBossPrice==null?shopCart.originPrice.toFixed(2):orderBossPrice.toFixed(2)}}
                                        </span>
                                    </div>
                                    <div class="weui_cell_ft" style="font-size: 16px;color: #c81623;">
                                    	<span class="customerDiscount" style="top: initial;vertical-align: initial;" v-if="customerDiscount != null">{{customerDiscount.toFixed(1)}}折</span>
                                        <span class="price">{{finalAmount.toFixed(2)}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="weui_btn_area padding-bottom">
                            <!-- 堂食 或者外带需要扫码的时候  未扫码进入店铺  则显示当前状态为需要扫码下单 -->
                            <span v-if="parentId == null && distributionModeId == 1 && tableNumber == null">
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeCreateOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" style="width: 48%;position: relative;left: 4%;" @click.stop="penScan">扫码下单</button>
	                        </span>
                            <span v-if="parentId == null && distributionModeId == 3 && tableNumber == null && shop.continueOrderScan == 1">
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeCreateOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" style="width: 48%;position: relative;left: 4%;" @click.stop="penScan">扫码下单</button>
	                        </span>
                            <span v-if="parentId == null && distributionModeId == 3 && tableNumber == null && shop.continueOrderScan == 0">
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeCreateOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="!payStates" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'pay')">买单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="payStates" style="background-color:#f2f2f2;color:#ccc;width: 48%;position: relative;left: 4%;">付款中</button>
	                        </span>
                            <span v-if="parentId == null && distributionModeId == 3 && tableNumber != null && shop.continueOrderScan == 1">
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeCreateOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="!payStates" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'pay')">买单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="payStates" style="background-color:#f2f2f2;color:#ccc;width: 48%;position: relative;left: 4%;">付款中</button>
	                        </span>
                            <span v-if="parentId == null && shop.allowAfterPay == 1 && shop.allowFirstPay ==0 && distributionModeId == 1 && tableNumber!=null">
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeCreateOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="!payStates" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'pay')">买单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="payStates" style="background-color:#f2f2f2;color:#ccc;width: 48%;position: relative;left: 4%;">付款中</button>
	                        </span>
                            <span v-if="parentId == null && shop.allowAfterPay == 0 && shop.allowFirstPay ==1 && distributionModeId == 1 && tableNumber!=null && orderBoss.orderState >= 2 && orderBoss.orderState != 9">
	                            <button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeCreateOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="!payStates" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'pay')">买单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="payStates" style="background-color:#f2f2f2;color:#ccc;width: 48%;position: relative;left: 4%;">付款中</button>
	                        </span>
                            <span v-if="parentId == null && shop.allowAfterPay == 0 && shop.allowFirstPay ==1 && distributionModeId == 1 && tableNumber!=null ">
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeCreateOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'buy')">下单</button>
	                        </span>
                            <!-- 先付后付同时存在 -->
                            <span v-if="parentId == null && distributionModeId == 1 && shop.allowAfterPay == 0 && shop.allowFirstPay == 0 && tableNumber!=null">
	                            <button type="button" class="weui_btn weui_btn_main" style="float: left;width: 48%;" @click.stop="createOrder(shop.shopMode,'buy')">稍后支付</button>
	                            <button type="button" class="weui_btn weui_btn_main" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'pay')">立即支付</button>
	                        </span>
                            <!-- 加菜 -->
                            <span v-if="parentId != null && firstPayType == 0">
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeCreateOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="!payStates" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'pay')">买单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="payStates" style="background-color:#f2f2f2;color:#ccc;width: 48%;position: relative;left: 4%;">付款中</button>
	                        </span>
                            <span v-if="parentId != null && firstPayType == 1 && orderBoss.orderState >= 2 && orderBoss.orderState != 9">
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeCreateOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="!payStates" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'pay')">买单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="payStates" style="background-color:#f2f2f2;color:#ccc;width: 48%;position: relative;left: 4%;">付款中</button>
	                        </span>
                            <span v-if="parentId != null && firstPayType == 1 && orderBoss.orderState == 1">
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeCreateOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'buy')">下单</button>
	                        </span>
                            <!-- 外带是否需要扫码 (不需要)  扫码进是否堂食(需选择就餐模式) 的时候显示 -->
                            <span v-if="parentId == null && distributionModeId == 3 && shop.continueOrderScan == 0 && shop.sweepMode == 1 && shop.allowAfterPay == 1 && shop.allowFirstPay == 0 && tableNumber != null">
	                            <button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeCreateOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="!payStates" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'pay')">买单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="payStates" style="background-color:#f2f2f2;color:#ccc;width: 48%;position: relative;left: 4%;">付款中</button>
	                        </span>
                            <span v-if="parentId == null && distributionModeId == 3 && shop.continueOrderScan == 0 && shop.sweepMode == 1 && shop.allowAfterPay == 0 && shop.allowFirstPay == 1 && tableNumber != null">
	                            <button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeCreateOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'buy')">下单</button>
	                        </span>
                            <span v-if="parentId == null && distributionModeId == 3 && shop.continueOrderScan == 0 && shop.sweepMode == 1 && shop.allowAfterPay == 0 && shop.allowFirstPay == 0 && tableNumber != null">
	                            <button type="button" class="weui_btn weui_btn_main" style="float: left;width: 48%;" @click.stop="createOrder(shop.shopMode,'buy')">稍后支付</button>
	                            <button type="button" class="weui_btn weui_btn_main" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'pay')">立即支付</button>
	                        </span>
                            <span v-if="distributionModeId == 2">
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeCreateOrder">继续点单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="!payStates" style="width: 48%;position: relative;left: 4%;" @click.stop="createOrder(shop.shopMode,'pay')">买单</button>
	                            <button type="button" class="weui_btn weui_btn_main" v-if="payStates" style="background-color:#f2f2f2;color:#ccc;width: 48%;position: relative;left: 4%;">付款中</button>
	                        </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--大boss模式点击推送打开买单页面-->
        <template v-if="openBossOrder">
            <div class="weui_dialog_alert">
                <div class="weui_dialog ex_dialog">
                    <div class="order-cart-list full-height">
                        <!--菜品明细列表-->
                        <div class="shop-cart-items">
                            <div class="weui_cells margin-top-0">
                                <div class="weui_cell order-item" v-for="item in orderBossItem" style="padding: 10px;" v-if="item.count>0">
                                    <div class="weui_cell_bd weui_cell_primary">
                                        <p class="cart-item-name" v-if="item.type!=6">{{item.articleName}}</p>
                                        <p v-if="item.type==3" class="mini">
                                        <span v-for="attr in item.children">
                                            <label>{{attr.articleName}}&nbsp;</label>
                                        </span>
                                        </p>
                                        <p class="mini" v-if="item.type==1">
	                                        <span>
	                                            <label v-for="it in orderBossItemAll">
	                                                <span v-if="it.parentId==item.articleId && it.orderId==item.orderId && item.type==1 && it.type==6">
	                                                    {{it.articleName}}<label>x{{it.count}}</label> &nbsp;
	                                                </span>
	                                            </label>
	                                        </span>
                                        </p>
                                        <p class="mini" v-if="item.type==5">
	                                        <span>
	                                            <label v-for="it in orderBossItemAll">
	                                                <span v-if="it.parentId==item.parentId && item.type==5 && it.type==6">
	                                                    {{it.articleName}}<label>x{{it.count}}</label> &nbsp;
	                                                </span>
	                                            </label>
	                                        </span>
                                        </p>
                                        <p class="mini" v-if="item.type==8">
	                                        <span>
	                                            <label v-for="it in orderBossItemAll">
	                                                <span v-if="it.parentId==item.parentId && item.type==8 && it.type==6">
	                                                    {{it.articleName}}<label>x{{it.count}}</label> &nbsp;
	                                                </span>
	                                            </label>
	                                        </span>
                                        </p>
                                    </div>
                                    <div class="weui_cell_ft" v-if="item.type != 6 && item.type != 4 && item.count>0">
                                        <span class="art-number">x{{item.count}}</span>
                                    </div>

                                    <div v-if="item.recommendList.length > 0 && item.type != 5 && item.type != 2 && item.type != 4" class="numberControl">
                                    <span @click="cutToShopCart(item.data)" class="cut-span">
                                        <i class="icon iconfont minus">&#xe751;</i>
                                    </span>
                                    <span class="art-number">{{item.number}}</span>
                                        <span @click="showActionNew(item.data)" class="meals-edit plus-span">
                                        <i class="icon icon-pencil"></i>
                                    </span>
                                    </div>

                                    <div v-if="item.recommendList.length > 0 && item.type == 5" class="numberControl">
                                    <span @click="cutToShopCart(item.data)" class="cut-span">
                                        <i class="icon iconfont minus">&#xe751;</i>
                                    </span>
                                        <span class="art-number">{{item.count}}</span>
                                        <span @click="showActionNew(item.data)" class="meals-edit plus-span">
                                        <i class="icon icon-pencil"></i>
                                    </span>
                                    </div>
                                </div>

                                <!--老版堂吃服务费-->
                                <div class="weui_cell" v-if="orderBoss.servicePrice>0 && orderBoss.isUseNewService == 0">
                                    <div class="weui_cell_bd weui_cell_primary">
                                        <p class="font-16">{{shop.serviceName}}</p>
                                    </div>
                                    <div class="weui_cell_ft" style="font-size: 16px;">
                                        <span class="price font-blod">{{orderBoss.servicePrice.toFixed(2)}}</span>
                                    </div>
                                </div>

                                <!--新版堂吃服务费-->
                                <div class="weui_cell" v-for="orderService in orderBoss.serviceList" v-if="orderBoss.servicePrice>0 && orderBoss.isUseNewService == 1">
                                    <div class="weui_cell_bd weui_cell_primary">
                                        <p class="font-16">{{orderService.name}}</p>
                                    </div>
                                    <div class="weui_cell_ft" style="font-size: 16px;">
                                        <span class="price font-blod">{{orderService.count * orderService.unitPrice}}</span>
                                    </div>
                                </div>

                                <!--外带打包费-->
                                <div class="weui_cell" v-if="orderBoss.mealFeePrice>0">
                                    <div class="weui_cell_bd weui_cell_primary">
                                        <p class="font-16">{{shop.mealFeeName}}</p>
                                    </div>
                                    <div class="weui_cell_ft" style="font-size: 16px;">
                                        <span class="price font-blod">{{orderBoss.mealFeePrice.toFixed(2)}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="order-operator-div">
                            <div class="weui_cells black-right-icon">
                                <div>
                                    <!--桌号信息-->
                                    <div class="weui_cell" style="border-bottom: 1px solid #e7e7e7;" >
                                        <!--只有当选择堂食的时候显示桌号信息-->
                                        <div class="weui_cell_bd weui_cell_primary">
                                            <p>就餐模式</p>
                                            <span class="personInfor" style="color:#878989" v-if="orderBoss.tableNumber">{{orderBoss.tableNumber}}</span>
                                        </div>
                                        <div class="weui_cell_hd">
                                            <span v-if="orderBoss.distributionModeId==1" style="color: #c81623;font-size: 16px;" @click="choiceDistributionModeId">堂食</span>
                                            <span v-if="orderBoss.distributionModeId==3" style="color: #c81623;font-size: 16px;">外带</span>
                                            <span v-if="orderBoss.distributionModeId==2" style="color: #0CA50A;font-size: 16px;">外卖</span>
                                        </div>
                                    </div>
                                    <!--就餐人数-->
	                                <div class="weui_cell weui_cells_access" style="border-bottom: 1px solid #e7e7e7;" v-if="orderBoss.customerCount">
	                                    <div class="weui_cell_hd">
	                                        <p style="font-size: 16px">就餐人数</p>
	                                    </div>
	                                    <div class="weui_cell_bd weui_cell_primary">
	                                        <div style="margin-left: 25px;">
			                                <span>{{orderBoss.customerCount}}</span>
	                                        </div>
	                                    </div>
	                                </div>
                                    <!--优惠券-->
                                    <span v-if="!orderBoss.ifUseCoupon">
									<div class="weui_cell weui_cell_select weui_select_after"
                                         v-if='canUseCouponHoufu' style="border-bottom: 1px solid #e7e7e7;">
                                        <div class="weui_cell_hd" style="font-size: 16px;">可用优惠</div>
                                        <div class="weui_cell_bd weui_cell_primary">
                                            <select class="weui_select" name="couponId" v-model="couponId">
                                                <option v-for="coupon in couponListHoufu" :value="coupon.id"
                                                        :data-value="coupon.value"
                                                        v-bind="{selected:$index==0}">
                                                    {{coupon.name}} ￥{{coupon.value}}元
                                                </option>
                                            </select>
                                        </div>
                                    </div>
								</span>

                                    <div class="weui_cell weui_cell_switch" v-if="useCouponAmount>0">
                                        <div class="weui_cell_hd weui_cell_primary">
                                            <p>可用余额</p>
                                            <span class="price personInfor">{{customerInfo.account.toFixed(2)}}
                                            <span style="color: #c81623;font-size: 14px;" v-if="waitMoney>0">(+￥{{waitMoney}})</span>
                                        </span>
                                        </div>
                                        <div class="weui_cell_ft">
                                        <span class="weui_switch useaccount"
                                              :class="{'checked':checkAccount}" @click="useChecked">
                                        </span>
                                        </div>
                                    </div>

                                    <div class="weui_cell">
                                        <div class="weui_cell_bd weui_cell_primary">
                                            <p>实付金额</p>
                                            <span class="personInfor" :class="{finalPrice:true}">原价￥{{orderBoss.allOrderOriginalAmount.toFixed(2)}}</span>
                                        </div>
                                        <div class="weui_cell_ft" style="font-size: 16px;color: #c81623;">
                                        	<span class="customerDiscount" style="top: initial;vertical-align: initial;" v-if="customerDiscount != null">{{customerDiscount.toFixed(1)}}折</span>
                                            <span class="price">{{finalAmountBoss.toFixed(2)}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="weui_btn_area padding-bottom" v-if="(orderBoss.orderState ==2 || orderBoss.orderState ==10) && orderBoss.allowContinueOrder">
                                <button type="button" class="weui_btn weui_btn_white" @click="closeBossOrder(orderBoss)">继续点单</button>
                            </div>
                            <div class="weui_btn_area padding-bottom" v-if="orderBoss.payType == 0 && orderBoss.orderState == 1 && orderBoss.productionStatus == 0 && orderBoss.payMode == 1">   
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeBossOrder(orderBoss)">继续点单</button>
                                <button type="button" class="weui_btn weui_btn_main" v-if="!payStates" style="width: 48%;position: relative;left: 4%;" @click.stop="payBossOrder(orderBoss,finalAmountBoss.toFixed(2))">立即支付</button>
                                <button type="button" class="weui_btn weui_btn_main" v-if="payStates" style="width: 48%;position: relative;left: 4%;background-color:#f2f2f2;color:#ccc;">付款中</button>
                            </div>
                            <div class="weui_btn_area padding-bottom" v-if="orderBoss.payType == 1 && orderBoss.orderState == 1 && orderBoss.isPay != 11 && orderBoss.allowContinueOrder && orderBoss.payMode != 3 && orderBoss.payMode != 4 && orderBoss.payMode != 5 && orderBoss.payMode != 6">
                                <button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeBossOrder(orderBoss)">继续点单</button>
                                <button type="button" class="weui_btn weui_btn_main" style="width: 48%;position: relative;left: 4%;" v-if="!payStates" @click.stop="payBossOrder(orderBoss,finalAmountBoss.toFixed(2))">买单</button>
                                <button type="button" class="weui_btn weui_btn_main" style="width: 48%;position: relative;left: 4%;background-color:#f2f2f2;color:#ccc;" v-if="payStates">付款中</button>
                            </div>
                            <div class="weui_btn_area padding-bottom" v-if="orderBoss.payType == 1 && orderBoss.isPay == 11 && (orderBoss.payMode != 1 || orderBoss.payMode != 2) && orderBoss.orderState == 1">
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeBossOrder(orderBoss)">继续点单</button>
                                <button type="button" class="weui_btn weui_btn_main" style="width: 48%;position: relative;left: 4%;" v-if="!payStates" @click.stop="payBossOrder(orderBoss,finalAmountBoss.toFixed(2))">买单</button>
                                <button type="button" class="weui_btn weui_btn_main" v-if="payStates" style="background-color:#f2f2f2;color:#ccc;width: 48%;position: relative;left: 4%;">付款中</button>
                            </div>
                            <div class="weui_btn_area padding-bottom" v-if="orderBoss.payType == 1 && (orderBoss.payMode == 0 || orderBoss.payMode == 1 || orderBoss.payMode == 2) && orderBoss.orderState == 1 && !orderBoss.allowContinueOrder">
                            	<button type="button" class="weui_btn weui_btn_white" style="float: left;width: 48%;border: 1px solid #000;" @click.stop="closeBossOrder(orderBoss)">继续点单</button>
                                <button type="button" class="weui_btn weui_btn_main" style="width: 48%;position: relative;left: 4%;" v-if="!payStates" @click.stop="payBossOrder(orderBoss,finalAmountBoss.toFixed(2))">买单</button>
                                <button type="button" class="weui_btn weui_btn_main" v-if="payStates" style="background-color:#f2f2f2;color:#ccc;width: 48%;position: relative;left: 4%;">付款中</button>
                            </div>
                            <div class="weui_btn_area padding-bottom" v-if="orderBoss.payType == 1 && (orderBoss.payMode == 3 || orderBoss.payMode == 4) && orderBoss.orderState == 1">
                                <button type="button" class="weui_btn weui_btn_main">请等待服务员</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </template>

        <!--购物车窗口-->
        <div class="weui_dialog_alert" v-if="isShowShopcart">
            <div class="weui_mask pop_up" @click="closeShopCart"></div>
            <div class="weui_dialog big-dialog">
                <div class="full-height">
                    <div class="shopcart-list" v-if="shopCart.items.length">
                        <div class="weui_cells" style="margin-top:0">
                            <div class="weui_cell order-item" v-for="item in shopCart.items">
                                <div class="weui_cell_bd weui_cell_primary">
                                    <p class="cart-item-name">{{item.name}}</p>                                   
                                    <!--套餐模式显示-->
                                    <p v-if="item.type==3" class="mini">
				                    	<span v-for="attr in item.data.mealAttrs">
				                    		<label v-for="name in attr.currentItem">
	                                            {{name.name}}&nbsp;
	                                        </label>
				                    	</span>
                                    </p>
                                    <p class="mini" v-if="item.data.recommendList.length > 0">
				                    	<span >
				                    		<label v-for="recommend in item.data.recommendList">
                                                {{recommend.articleName}} <label v-if="recommend.count > 1">X{{recommend.count}}</label> &nbsp;
                                            </label>
				                    	</span>
                                    </p>

                                    <!--套餐模式显示-->
                                    <p class="mini" v-if="item.data.recommendList.length == 0 && item.data.originalAmount != item.data.realPrice">
                                    	<span class="price" v-if="item.data.realPrice" style="color: #E74C3C;font-size: 1rem;">{{Math.round(item.data.realPrice*100)/100}}</span>
                                    	<span class="price" v-if="item.data.originalAmount && !item.data.realPrice" style="text-decoration:line-through;">{{item.data.realPrice.toFixed(2)}}</span>
                                    	<span class="price" v-if="item.data.originalAmount" style="text-decoration:line-through;">{{item.data.originalAmount.toFixed(2)}}</span>
                                    </p>
                                    <p class="mini" v-if="item.data.recommendList.length == 0 && item.data.originalAmount == item.data.realPrice">
                                    	<span class="price" style="font-size: 1rem;color: #E74C3C;">{{Math.round(item.data.realPrice*100)/100}}</span>
                                    </p>
                                </div>
                                <div class="weui_cell_ft">
                                    <!--套餐模式显示-->
                                    <div v-if="item.type==3" class="numberControl">
                                        <span @click="cutToShopCart(item.data)" class="cut-span"><i
                                                class="icon iconfont minus">&#xe751;</i></span>
                                        <span class="art-number">{{item.data.number}}</span>
                                        <span @click="showAction(item.data)" class="meals-edit plus-span"><i
                                                class="icon icon-pencil"></i></span>
                                    </div>
                                    <!--套餐模式显示-->
                                    <!--新规格-->
                                    <div v-if="item.type==5 && item.data.recommendList.length == 0 && item.type!=8" class="numberControl">
			                                    <span @click="cutToShopCartNew(item.data)" class="cut-span"><i
                                                        class="icon iconfont minus">&#xe751;</i></span>
                                        <span class="art-number">{{item.data.count}}</span>
                                        <span @click="showActionNew(item.data)" class="meals-edit plus-span"><i
                                                class="icon icon-pencil"></i></span>
                                    </div>
                                    <div v-if="item.data.recommendList.length > 0 && item.type != 5 && item.type != 8" class="numberControl">
			                                    <span @click="cutToShopCart(item.data)" class="cut-span"><i
                                                        class="icon iconfont minus">&#xe751;</i></span>
                                        <span class="art-number">{{item.data.number}}</span>
                                        <span @click="showAction(item.data,'edit')" class="meals-edit plus-span"><i
                                                class="icon icon-pencil"></i></span>
                                    </div>

                                    <div v-if="item.data.recommendList.length == 0 && item.type == 6" class="numberControl">
			                                    <span @click="cutToShopCart(item.data)" class="cut-span"><i
                                                        class="icon iconfont minus">&#xe751;</i></span>
                                        <span class="art-number">{{item.data.number}}</span>
                                        <span @click="showAction(item.data,'edit')" class="meals-edit plus-span"><i
                                                class="icon icon-pencil"></i></span>
                                    </div>

                                    <div v-if="item.data.recommendList.length > 0 && item.type == 5" class="numberControl">
			                                    <span @click="cutToShopCart(item.data)" class="cut-span"><i
                                                        class="icon iconfont minus">&#xe751;</i></span>
                                        <span class="art-number">{{item.data.count}} </span>
                                        <span @click="showActionNew(item.data)" class="meals-edit plus-span"><i
                                                class="icon icon-pencil"></i></span>
                                    </div>

                                    <!--新规格-->
                                    <!--单品模式显示-->
                                    <article-operator :article.sync="item.data" @cut="cutToShopCart"
                                                      @add="addToShopCart"
                                                      v-if="item.type != 5 && item.type != 3 && item.type != 6 && item.type != 8 && item.data.recommendList.length == 0"></article-operator>
                                    <!--单品模式显示-->
                                    <!--重量包-->
                                    <div v-if="item.type == 8" class="numberControl">
			                                    <span @click="cutToShopCart(item.data)" class="cut-span"><i
                                                        class="icon iconfont minus">&#xe751;</i></span>
                                        <span class="art-number">{{item.data.count}} </span>
                                        <span @click="showActionNew(item.data)" class="meals-edit plus-span"><i
                                                class="icon icon-pencil"></i></span>
                                    </div>
                                    <!--重量包-->
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="shopcart-list empty" v-if="!shopCart.items.length">
                        <!-- <p><i class="icon-shopping-cart"></i></p>-->
                        <img style="width: 40vw;height: 40vw;position: relative;top: 70px;" src="assets/img/emptyShopCart.png"/>
                        <p style="position: relative;top: 80px;font-size: 20px;color: #a9a9a9;font-family: '微软雅黑';">购物车是空的</p>
                    </div>
                    <div class="bottom-button">
                        <div class="weui_dialog_ft margin-top-0 no-border-top">
                            <!--<a class="weui_btn_dialog primary left" @click="clearShopCart">清空</a>-->
                            <a v-if="!waitRedMoney" class="weui_btn_dialog primary right" @click="closeShopCartAndShowCreate">点好了</a>
                        </div>
                    </div>
                </div>
                <div class="dialog-close" @click="closeShopCart"><i class="icon-remove-sign"></i></div>
            </div>
        </div>

        <div class="weui_dialog_alert" v-if="remindDialog.show">
            <div class="weui_mask pop_up" @click="closeRemindDialog"></div>
            <div class="weui_dialog middle-dialog">
                <div class="full-height">
                    <div class="remind-title">
                        <p class="text-left padding-10">请问您是否需要:</p>
                    </div>
                    <div class="remind-list">
                        <div class="weui_cells" style="margin-top:0">
                            <div class="weui_cell order-item" v-for="item in remindDialog.articles" v-if="!item.isEmpty">
                                <div class="weui_cell_bd weui_cell_primary">
                                    <p class="cart-item-name" v-if="item.type==1">{{item.name}}</p>
                                    <p class="cart-item-name" v-else>{{item.article.name+item.name}}</p>
                                    <p class="price mini">{{item.realPrice}}</p>
                                </div>
                                <div class="weui_cell_ft">
                                    <article-operator :article.sync="item" @cut="cutToShopCart"
                                                      @add="addToShopCart"></article-operator>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bottom-button">
                        <div class="weui_dialog_ft margin-top-0 no-border-top">
                            <a class="weui_btn_dialog primary" @click="remindDialogOk">点好了</a>
                        </div>
                    </div>
                </div>
                <div class="dialog-close" @click="closeRemindDialog"><i class="icon-remove-sign"></i></div>
            </div>
        </div>

        <div class="weui_dialog_alert" v-if="currentArticle&&currentArticle.articleType==1||currentArticle.isEmpty">
            <div class="weui_mask pop_up" style="z-index: 20;"></div>
            <div class="weui_dialog dish_details" style="z-index: 20;"
                 :class="{'singleMeal': unitArr.length==0 && currentArticle.articlePrices.length == 0,'shenjing':currentArticle.recommendId && !currentArticle.isEmpty,'saleEmpty':currentArticle.isEmpty && currentArticle.recommendId}">
                <div class="full-height">
                    <div class="weui_dialog_bd" v-if="!currentArticle.recommendId">
                    	<div class="art-image" style="background:url({{currentArticle.photoSmall || 'assets/img/resto.png'}}) no-repeat;background-size: 100% 100%;"></div>
                        <!--<img class="art-image" :src="currentArticle.photoSmall||'assets/img/resto.png'"/>-->
                        <span class="article-likes">
		            		<i class="icon icon-heart"></i>
		            		{{currentArticle.likes}}
		            	</span>
                    </div>

                    <div class="weui_dialog_bd" v-if="currentArticle.recommendId">
                        <div class="form-group">
                            <p><span class="meals-name">{{currentArticle.name}}</span></p>
                        </div>
                        <div class="meal-div" id="recommendImg" v-if="currentArticle.showBig">
                            <ul class="aatv">
                                <!--默认显示主品图片-->
                                <li class="flex-container">
                                	<div class="flex-item" style="background:url({{currentArticle.photoSmall}}) no-repeat;background-size: 100% 100%;"></div>
                                </li>
                                <!--推荐餐包图片-->
                                <li class="flex-container" v-if="!recommendImg.show" v-for="recommendImg in recommendList.items">
                                	<div class="flex-item" style="background:url({{recommendImg.imageUrl}}) no-repeat;background-size: 100% 100%;"></div>
                                </li>
                            </ul>
                            <div class="clearfix"></div>
                        </div>
                        <span class="article-likes">
		            		<i class="icon icon-heart"></i>
		            		{{currentArticle.likes}}
		            	</span>
                    </div>

                    <div class="weui_article article-desc" style="min-height: 0;margin-bottom: 5px;padding: 0px 10px;">
                        <div class="weui_cells article-unit-list no-border-top no-border-bottom"
                             style="margin-top: 0px;">
                            <div>
                                <!--<h3 class="article-name">{{currentArticle.name}}</h3>-->
                                <!--<div class="meal-attr-items" style="padding: inherit;">
                                    <div class="meal-items" style="padding: inherit;">
                                        <div class="form-group" style="color:#6E6E6E">
                                            <p><span>餐品介绍</span></p>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                </div>-->
                                <div class="currentArticle-description" v-if="currentArticle.description != null && currentArticle.description != ''">
                                    <div>{{{currentArticle.description}}}</div>
                                </div>
                            </div>
                            <!--添加单品单规格列表-->
                            <div class="weui_cell" v-if="unitArr.length==0 && currentArticle.articlePrices.length == 0 && !currentArticle.recommendId && currentArticle.openCatty == 0"
                            	 style="padding: 5px 0px;">
                                <div class="weui_cell_bd weui_cell_primary">
                                    <p class="cart-item-name">{{currentArticle.name}}</p>
                                    <p class="font-mini">
                                        <template v-if="currentArticle.fansPrice">
                                            <span class="price delete">{{currentArticle.price}}元</span>&nbsp;&nbsp;
                                            <span class="price sale">{{currentArticle.fansPrice}}元</span>
                                        </template>
                                        <span class="price" v-else>{{currentArticle.price}}元</span>
                                    </p>
                                </div>
                                <div class="weui_cell_ft">
                                    <article-operat :article.sync="currentArticle" @cut="cutToSingleShopCart"
                                                    @add="addToSingleShopCart"></article-operat>
                                </div>
                            </div>
                            <!--添加新规格单品列表-->
                            <div class="weui_cells article-unit-list no-border-top no-border-bottom"
                                 style="margin-top:5px;border-top: 1px solid #D9D9D9;" v-if="selectCurrentArticle.show">
                                <div class="weui_cell" style="padding: 3px 0px;">
                                    <div class="weui_cell_bd weui_cell_primary">
                                        <p class="cart-item-name" style="width: 150px;white-space: nowrap;text-overflow: ellipsis;overflow: hidden;">
                                            {{selectCurrentArticle.name}}</p>
                                    </div>
                                    <div class="weui_cell_ft">
                                        <article-operator :article.sync="selectCurrentArticle" @cut="cutCurrentCount"
                                                          @add="addCurrentCount"></article-operator>
                                    </div>
                                </div>
                            </div>
                            <div class="weui_cells article-unit-list no-border-top no-border-bottom"
                                 style="margin-top: initial;"
                                 v-if="unitArr.length > 0 && !currentArticle.isEmpty && !currentArticle.weightPackageId" v-for="u in unitArr">
                                <div class="meal-attr-items" style="padding: inherit;">
                                    <div class="meal-items" style="padding: inherit;">
                                        <div class="form-group">
                                            <p><span>{{u.name}}</span></p>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                </div>
                                <div class="items-name-change">
                                    <div class="meal-item-div" v-for="item in u.details" v-if="unitArr.length>0">
		                    			<span class="item-name-change" :class="{select:item.click==true}"
                                              style="overflow: initial;"
                                              @click="selectUnitItem(item,u)">{{item.name}}<span
                                                v-if="item.price > 0">+{{item.price}}元</span>
			                    		</span>
                                    </div>
                                </div>
                            </div>
                            <!--单品重量包-->
                            <div class="weui_cells article-unit-list no-border-top no-border-bottom"
                                 style="margin-top:5px;border-top: 1px solid #D9D9D9;" v-if="selectWeightArticle.show">
                                <div class="weui_cell" style="padding: 3px 0px;">
                                    <div class="weui_cell_bd weui_cell_primary">
                                        <p class="cart-item-name" style="width: 150px;white-space: nowrap;text-overflow: ellipsis;overflow: hidden;">
                                            {{selectWeightArticle.name}}</p>
                                    </div>
                                    <div class="weui_cell_ft">
                                        <!--<article-operator :article.sync="selectWeightArticle" @cut="cutCurrentCount"
                                                          @add="addCurrentCount"></article-operator>-->                                      
                                        <div class="numberControl">
                                        <span @click="cutToWeightArticle" class="cut-span"><i
                                                class="icon iconfont minus">&#xe751;</i></span>
                                        <span class="art-number">{{selectWeightArticle.count}}</span>
                                        <span class="meals-edit plus-span"><i
                                                class="icon icon-pencil"></i></span>
                                    </div>
                                    </div>
                                </div>
                            </div>
                            <div class="weui_cells article-unit-list no-border-top no-border-bottom"
                                 style="margin-top: initial;" v-if="currentArticle.weightPackageId">
                                <div class="meal-attr-items" style="padding: inherit;">
                                    <div class="meal-items" style="padding: inherit;">
                                        <div class="form-group">
                                            <p><span>{{currentArticle.weightPackageList.name}}</span></p>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                </div>
                                <div class="items-name-change">
                                    <div class="meal-item-div" v-for="item in currentArticle.weightPackageList.details">
		                    			<span class="item-name-change" :class="{select:item.click==true}"
                                              style="overflow: initial;" @click="selectWeightItem(item,currentArticle.weightPackageList)">{{item.name}}
			                    		</span>
                                    </div>
                                </div>
                            </div>
                            <!--添加推荐配餐列表-->
                            <div class="dish_size_bg text-left padding-0" style="border: none;"
                                 v-if="currentArticle.recommendId&&currentArticle.recommendId != '' && currentArticle.articlePrices.length == 0 && !currentArticle.isEmpty ">
                                <div class="weui_cells article-unit-list no-border-top no-border-bottom"
                                     style="margin-top: 5px;">
                                    <div class="meal-attr-items" style="padding: inherit;">
                                        <div class="meal-items" style="padding: inherit;">
                                            <div class="form-group" style="color:#6E6E6E">
                                                <p><span>推荐配餐</span></p>
                                            </div>
                                            <div class="clearfix"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="weui_cells article-unit-list no-border-top no-border-bottom"
                                     style="margin-top:0px;border-bottom: 1px solid #D9D9D9;"
                                     v-for="recommend in selectRecommendArticle">
                                    <div class="weui_cell" style="padding: 3px 0px;">
                                        <div class="weui_cell_bd weui_cell_primary">
                                            <p class="cart-item-name">{{recommend.articleName}}</p>
                                            <p class="font-mini">
                                                <span class="price sale">{{recommend.price}} 元</span>
                                            </p>
                                        </div>
                                        <div class="weui_cell_ft">
                                            <article-operator :article.sync="recommend" @cut="cutRecommendCount"
                                                              @add="addRecommendCount"></article-operator>
                                        </div>
                                    </div>
                                </div>
                                <!--可选择的推荐餐包-->
                                <div class="items-name-change" id="scrollOffset">
                                    <div class="meal-item-div" v-for="recommend in recommendList.items"
                                         v-if="recommend.currentWorkingStock>0 && recommend.show">
		            					<span class="item-name-change" :class="{select:recommend.count!=0}"
                                              @click="selectRecommend(recommend)">
		            						{{recommend.articleName}} 
		            					</span>
                                    </div>
                                </div>
                            </div>
                            <!--单品老规格列表-->
                            <div class="dish_size_bg text-left padding-0 " v-if="currentArticle.articlePrices.length > 0 ">
                                <div class="weui_cells article-unit-list no-border-top no-border-bottom" style="margin-top:0">
                                    <div class="weui_cell" v-for="item in currentArticle.articlePrices"
                                         v-if="item.currentWorkingStock" style="padding: 5px 0px;">
                                        <div class="weui_cell_bd weui_cell_primary">
                                            <p class="cart-item-name">{{currentArticle.name}}{{item.name}}</p>
                                            <p class="font-mini">
                                                <template v-if="item.fansPrice">
                                                    <span class="price delete">{{item.price}}元</span>&nbsp;&nbsp;
                                                    <span class="price sale">{{item.fansPrice}}元</span>
                                                </template>
                                                <span class="price" v-else>{{item.price}}元</span>
                                            </p>
                                        </div>
                                        <div class="weui_cell_ft">
                                            <article-operat :article.sync="item" @cut="cutToOldSingleShopCart"
                                                            @add="addToOldSingleShopCart"></article-operat>
                                        </div>
                                    </div>

                                    <div class="dish_size_bg text-left padding-0" style="border: none;"
                                         v-if="currentArticle.recommendId && currentArticle.recommendId != ''">
                                        <div class="weui_cells article-unit-list no-border-top no-border-bottom"
                                             style="margin-top: 5px;">
                                            <div class="meal-attr-items" style="padding: inherit;">
                                                <div class="meal-items" style="padding: inherit;">
                                                    <div class="form-group" style="color:#6E6E6E">
                                                        <p><span>推荐配餐</span></p>
                                                    </div>
                                                    <div class="clearfix"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="weui_cells article-unit-list no-border-top no-border-bottom"
                                             style="margin-top:0px;border-bottom: 1px solid #D9D9D9;"
                                             v-for="recommend in selectRecommendArticle">
                                            <div class="weui_cell" style="padding: 3px 0px;">
                                                <div class="weui_cell_bd weui_cell_primary">
                                                    <p class="cart-item-name">{{recommend.articleName}}</p>
                                                    <p class="font-mini">
                                                        <span class="price sale">{{recommend.price}} 元</span>
                                                    </p>
                                                </div>
                                                <div class="weui_cell_ft">
                                                    <article-operator :article.sync="recommend" @cut="cutRecommendCount"
                                                                      @add="addRecommendCount"></article-operator>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="items-name-change" id="scrollOffset">
                                            <div class="meal-item-div" v-for="recommend in recommendList.items"
                                                 v-if="recommend.currentWorkingStock>0 && recommend.show">
				            					<span class="item-name-change" :class="{select:recommend.count!=0}"
                                                      @click="selectRecommend(recommend,attr)">
				            						{{recommend.articleName}} 
				            					</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bottom-button"
                         v-if="(currentArticle.recommendId&&currentArticle.recommendId != '')&& (currentArticle.articlePrices.length == 0 || unitArr.length > 0) && !currentArticle.isEmpty">
                        <div class="weui_dialog_ft margin-top-0 no-border-top">
                            <!--<a class="meals-price price">{{totalMoney.toFixed(2)}}</a>-->
                            <a class="weui_btn_dialog white" @click.stop="closeAction">关闭</a>
                            <a class="weui_btn_dialog primary" @click.stop="addToNewShopCart">加入购物车</a>
                        </div>
                    </div>

                    <div class="bottom-button"
                         v-if="!(currentArticle.recommendId&&currentArticle.recommendId != '')&& ( unitArr.length > 0) && !currentArticle.isEmpty">
                        <div class="weui_dialog_ft margin-top-0 no-border-top">
                            <!--<a class="meals-price price">{{totalMoney.toFixed(2)}}</a>-->
                            <a class="weui_btn_dialog white" @click.stop="closeAction">关闭</a>
                            <a class="weui_btn_dialog primary" @click.stop="addToNewShopCart">加入购物车</a>
                        </div>
                    </div>

                    <div class="bottom-button"
                         v-if="(!currentArticle.recommendId) && (currentArticle.articlePrices.length == 0 && unitArr.length == 0) || currentArticle.articlePrices.length > 0">
                        <div class="weui_dialog_ft margin-top-0 no-border-top">
                            <!--<a class="meals-price price">{{startMoney.toFixed(2)}}</a>-->
                            <a class="weui_btn_dialog white" @click.stop="closeAction">关闭</a>
                            <a class="weui_btn_dialog primary" v-else @click.stop="addToNewShopCart">加入购物车</a>
                        </div>
                    </div>
                </div>
                <!--<div class="dialog-close" @click="closeAction" v-if="!editModel"><i class="icon-remove-sign"></i></div>-->
            </div>
        </div>

        <!--购买套餐窗口-->
        <div class="weui_dialog_alert sencond_mask"
             v-if="currentArticle&&currentArticle.articleType==2&&!currentArticle.isEmpty">
            <div class="weui_mask pop_up" @click="closeAction" style="z-index: 20;"></div>
            <div class="weui_dialog dish_details meals-dialog" style="z-index: 20;">
                <div class="full-height">
                    <div class="form-group">
                        <p><span class="meals-name">{{currentArticle.name}}</span></p>
                    </div>
                    <div class="meal-div" id="bigbox" v-if="currentArticle.showBig">
                        <div class="aatv">
                            <div class="flex-container" v-for="attr in currentArticle.mealAttrs"
                                 @click="moveToAttr(attr)">
                                <div class="flex-item" v-for="img in attr.currentItem" style="background:url({{img.photoSmall}}) no-repeat;background-size: 100% 100%;"></div>
                                <!--<img class="flex-item" v-for="img in attr.currentItem" :src="img.photoSmall"/>-->
                            </div>
                        </div>
                        <div class="clearfix"></div>
                    </div>

                    <span class="article-likes">
	            		<i class="icon icon-heart"></i>
	            		{{currentArticle.likes}}
	            	</span>
                    <div class="dish_size_bg meals-wrap">
                        <div class="meal-attr-items">
                            <div class="meal-items" v-for="attr in currentArticle.mealAttrs |orderBy 'sort' "
                                 :data-attr-id="attr.id">
                                <div class="form-group" v-if="attr.mealItems.length > 0">
                                    <p><span>{{attr.name}}</span></p>
                                </div>
                                <div class="items-name" v-if="attr.choiceType == 0">
                                    <div class="meal-item-div" v-for="item in attr.mealItems">
	            								<span class="item-name" :class="{select:item.click}"
                                                      @click="selectMealItem(item,attr)">
	            							{{item.name}}<span v-if="item.priceDif>0">+{{item.priceDif}}元</span>
	            								</span>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="items-name" v-if="attr.choiceType == 1">
                                    <div class="meal-item-div" v-for="item in attr.mealItems">
		            					<span class="item-name" :class="{select:item.click}"
                                              @click="selectMealItem(item,attr)">
		            						{{item.name}} <span
                                                v-if="item.priceDif>0">+{{item.priceDif}}元</span>
		            					</span>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bottom-button">
                        <div class="weui_dialog_ft margin-top-0 no-border-top">
                            <a class="meals-price price">{{getMealsReadPrice(currentArticle)}}/{{currentArticle.unit}}</a>
                            <a class="weui_btn_dialog primary" v-else @click="saveMeals(currentArticle)">确定</a>
                        </div>
                    </div>
                </div>
                <div class="dialog-close" @click="closeAction"><i class="icon-remove-sign"></i></div>
            </div>
        </div>
        <choice-mode-dialog :show.sync="choiceModeDialog.show" :mode.sync="choiceModeDialog.mode"></choice-mode-dialog>  <!--选择就餐模式-->
        <noticelist-dialog :show.sync="noticeListDialog.show" :noticelist="noticeListDialog.noticelist"></noticelist-dialog>
        <order-remarks :show.sync="orderRemarks.show"></order-remarks> 	<!--订单备注-->
        <delivery-address :show.sync="choiceAddressList.show" :customerid.sync="choiceAddressList.customerid"></delivery-address> <!--选择地址-->
        <add-address :show.sync="customerAddress.show" :customerid.sync="customerAddress.customerid"></add-address> <!--添加地址-->
        <get-location :show.sync="getBaiduLocation.show"></get-location>	<!--百度地图-->
        <number-keyboard :show.sync="numberKeyboard.show" :count="numberKeyboard.count"></number-keyboard>	<!--输入人数键盘-->
        <attention-page :show.sync="attentionPage.show"></attention-page>	<!--扫码关注弹窗-->
        <group-scan-page :show.sync="groupScanPage.show"></group-scan-page>	<!--提示扫码桌号-->
        <repeat-dialog :show.sync="repeatDialog.show" :count="repeatDialog.count" :name="repeatDialog.name" :price="repeatDialog.price"></repeat-dialog>	<!--多人菜品重复提示-->
    </div>
</script>

<script type="text/x-template" id="my-temp">
    <div class="full-height" style="background: #E7E7E7">
        <div class="userCenter">
            <div class="weui_media_box weui_media_appmsg my-info weui_cells_access" id="myInfo">
                <div class="weui_media_hd">
                    <img class="weui_media_appmsg_thumb" :src="customerInfo.headPhoto" />
                </div>
                <div class="weui_media_bd">
                    <div class="weui_media_title" style="vertical-align: middle;">
                        <span class="weui_customerName">{{customerInfo.nickname}}</span>
                        <img class="customerSexSmall" src="assets/img/man.png" v-if="customerInfo.sex == 1" />
                        <img class="customerSexSmall" src="assets/img/woman.png" v-if="customerInfo.sex == 2" />
                        <span class="customerDiscount" v-if="customerDiscount != null">{{customerDiscount.toFixed(1)}}折</span>
                    </div>
                    <p class="weui_media_desc" v-if="customerInfo.isBindPhone">手机号:{{customerInfo.telephone}}</p>
                    <button class="weui_btn weui_btn_mini charge-btn colorFix" id="register" v-if="!customerInfo.isBindPhone" @click="registerNow" style="border-radius: 13px;">
                        <span>立即注册</span>
                    </button>
                </div>
                <div id="myCode" style="position: relative;left: 27px;top: -2px;" @click="showMeCode">
                    <img src="assets/img/share.png" alt="二维码" style="width: 2rem;height: 2rem;"  />
                    <span style="color: #E74C3C;font-size: 10px;position: relative;right: 40px;top: 14px;">邀请奖励</span>
                </div>
                <div class="weui_cell_ft"></div>
            </div>

            <div class="weui_cells weui_cells_access" style="border-top: 0.82em solid #E7E7E7;margin-top: inherit" >
                <a class="weui_cell" @click='this.$dispatch("open-iframe","views/informationAccount.html")' >
                    <div class="weui_cell_bd weui_cell_primary">
                        <p>账户余额</p>
                    </div>
                    <div class="weui_cell_ft">
                        <span class="price">{{customerInfo.sumRemain.toFixed(2)}}</span>
                    </div>
                </a>
                <charge-rules :chargelist="chargeList"></charge-rules>
                <a class="weui_cell" @click="this.$dispatch('open-iframe','views/informationCoupon.html')">
                    <div class="weui_cell_bd weui_cell_primary">
                        <p>我的优惠劵</p>
                    </div>
                    <div class="weui_cell_ft" id="myBirth" @click="openMybirthdayGift">
                        <button class="weui_btn weui_btn_mini charge-btn colorFix"
                                v-if="allSetting.birthGift && customerInfo.customerDetail.birthDate == null" >
                            <span>领取生日券</span>
                        </button>
                    </div>
                </a>
                <a class="weui_cell" @click="showMyComment">
                    <div class="weui_cell_bd weui_cell_primary">
                        <p>我的评论</p>
                    </div>
                    <div class="weui_cell_ft"></div>
                </a>
                <a class="weui_cell" @click="showMyRecord">
                    <div class="weui_cell_bd weui_cell_primary">
                        <p>返利足迹</p>
                    </div>
                    <div class="weui_cell_ft"></div>
                </a>
                <a class="weui_cell" @click="showInvoice" v-if="allSetting.receiptSwitch == 1">
                    <div class="weui_cell_bd weui_cell_primary">
                        <p>发票管理</p>
                    </div>
                    <div class="weui_cell_ft"></div>
                </a>
                <!--<a class="weui_cell" @click="showMyAddress" v-if="pageType == 'waimai'">
                    <div class="weui_cell_bd weui_cell_primary">
                        <p>收货地址</p>
                    </div>
                    <div class="weui_cell_ft"></div>
                </a>-->
            </div>

            <div class="order-list-mini">
                <div class="weui_cells" style="border-top: 0.82em solid #E7E7E7;margin-top: inherit">
                    <div class="weui_cell">
                        <div class="weui_cell_bd weui_cell_primary">
                            <p>我的订单</p>
                        </div>
                    </div>
                    <span v-if="shop.shopMode != 5 ">
						<order-mini-detailed v-for="order in orderlist" :order="order" v-if="order.distributionModeId == 2 && pageType =='waimai'"></order-mini-detailed>
						<order-mini-detailed v-for="order in orderlist" :order="order" v-if="order.distributionModeId != 2 && pageType !='waimai'"></order-mini-detailed>
					</span>
                    <div class="weui_cell font-mini" v-if="load">
                        <p><i class="icon-spinner icon-spin"></i>正在加载中...</p>
                    </div>
                    <div class="weui_cell font-mini" v-if="over">
                        <p><i class="icon-ok"></i>已经全部加载完成</p>
                    </div>
                </div>
            </div>
        </div>
        <iframe-dialog-code :show.sync="iframeDialogCode.show" :customer.sync="iframeDialogCode.customer"></iframe-dialog-code> <!--个人二维码弹窗-->
        <invoice-type :show.sync="invoiceType.show"></invoice-type>
    </div>
</script>

<script src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script>
<script src="assets/js/jswx.js"></script>
<script src="assets/js/jquery.fly.min.js"></script>
<script src="assets/js/jquery.circliful.min.js"></script>
<script src="//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js"></script>
<script src="//cdn.bootcss.com/Swiper/3.4.0/js/swiper.jquery.min.js"></script>
<script src="//cdn.bootcss.com/Swiper/3.4.0/js/swiper.min.js"></script>
<script src="assets/js/vue1.0.17.min.js?v=43534"></script>
<script src="assets/js/custom/invoice/iscroll.js"></script>
<script src="//cdn.bootcss.com/iScroll/5.1.3/iscroll-probe.min.js"></script>
<!--百度地图js-->
<script src="//api.map.baidu.com/api?v=2.0&ak=15feea9d0a37513c2a1ef34a341b103e"></script>
<script src="assets/js/convertor.js"></script>
<script src="//3gimg.qq.com/lightmap/components/geolocation/geolocation.min.js"></script>
<script src="assets/js/mapLocation.js"></script>
<script src="assets/js/custom/wxFunction.js"></script>
<script src="assets/js/custom/service.js"></script>
<script src="assets/js/custom/base/components.js?v=20140829"></script>
<script src="assets/js/custom/base/page/home-page.js"></script>
<script src="assets/js/custom/base/page/tangshi-page.js?v=20140329"></script>
<script src="assets/js/custom/base/page/my-page.js"></script>
<script src="assets/js/custom/base/main.js"></script>
<!--<script src="assets/js/custom/mode/default/custom.js"></script>-->
<script>
    //    var v = Date.parse(new Date());
    //    var src1 = "assets/js/custom/service.js?v=" + v;
    //    var src2 = "assets/js/custom/base/components.js?v=" + v;
    //    var src3 = "assets/js/custom/base/page/home-page.js?v=" + v;
    //    var src4 = "assets/js/custom/base/page/tangshi-page.js?v=" + v;
    //    var src5 = "assets/js/custom/base/page/my-page.js?v=" + v;
    //    var src6 = "assets/js/custom/base/main.js?v=" + v;
    //    document.getElementById("src1").src = src1;
    //    document.getElementById("src2").src = src2;
    //    document.getElementById("src3").src = src3;
    //    document.getElementById("src4").src = src4;
    //    document.getElementById("src5").src = src5;
    //  document.getElementById("src6").src = src6;
</script>

<script language="javascript">
    var readyFunction = [];
    var wxIsReady = false;
    var shopMode = null;
    var openRedRegiest = false;
    var latitude = 31.24916171;
    var longitude = 121.47489949;

    var wxAPIList;
    var wxPayAPIList;

    $.ajax({
        url: baseUrl + "/wechat/jsconfig",
        type: "post",
        data: {"query": getUrlParam(window.location.href)},
        async: false,
        dataType: "json",
        success: function (result) {
            wxAPIList = result;
            wx.config(wxAPIList.data);
            readyFunction = [];
            wxIsReady = false;
        }
    });

    $.ajax({
        url: baseUrl + "/wechat/jsWxPayconfig",
        type: "post",
        data: {"query": getUrlParam(window.location.href)},
        async: false,
        dataType: "json",
        success: function (f) {
            wxPayAPIList = f;
        }
    });

    wx.ready(function () {
        wxIsReady = true;
        var that = this;
        wx.getLocation({
            type: 'gcj02', // 默认为wgs84的gps坐标，如果要返回直接给openLocation用的火星坐标，可传入'gcj02'  
            success: function (res) {
                latitude = res.latitude; // 纬度，浮点数，范围为90 ~ -90
                longitude = res.longitude; // 经度，浮点数，范围为180 ~ -180。
                var speed = res.speed; // 速度，以米/每秒计
                var accuracy = res.accuracy; // 位置精度
            },cancel: function (res){
                alert("用户拒绝授权获取地理位置");
            },error:function(res){
                alert("调用失败");
            }
        });
        wx.hideMenuItems({
            menuList: ['menuItem:share:weiboApp','menuItem:share:QZone','menuItem:share:email','menuItem:share:brand',
                'menuItem:copyUrl','menuItem:originPage','menuItem:editTag','menuItem:delete','menuItem:share:facebook',
                'menuItem:favorite','menuItem:share:qq'] // 要隐藏的菜单项，只能隐藏“传播类”和“保护类”按钮，所有menu项见附录3
        });
        for (var i in readyFunction) {
            var n = readyFunction[i];
            if (typeof n == "function") {
                n();
                console.info("执行wxReady function:" + n);
            }
        }
    });

    //执行微信方法的接口
    function executeWxFunction(fun) {
        if (typeof fun == "function") {
            if (wxIsReady) {
                fun();
            } else {
                readyFunction.push(fun);
            }
        }
    }

    var randmode = "";
    for(var i = 0; i < 3; i++){
        var r = Math.floor(Math.random() * 10);
        randmode += r;
    }

    $.ajax({
        url: baseUrl + "/wechat/shopmode",
        async: false,
        data: {"randmode": randmode},
        type: "post",
        success: function (user) {
            shopMode = user.shopMode;
            var scriptTag = document.createElement('script');
            if(getParam("tableNumber") == null && "qiehuan" != getParam("qiehuan")
                && getParam("dialog") == null && getParam("shopId") == null){
                scriptTag.src = "assets/js/custom/mode/default/custom.js";
            }else if(!user) {
                scriptTag.src = "assets/js/custom/mode/default/custom.js";
            }else if(user.shopMode != 0) {
                scriptTag.src = 'assets/js/custom/mode/' + user.shopMode + '/custom.js';
                openRedRegiest = true;
            }else if(user.shopMode == 0) {
                scriptTag.src = "assets/js/custom/mode/default/custom.js";
            }else{
                window.location.reload();
            }
            var s = document.getElementsByTagName('body')[0];
            s.appendChild(scriptTag);
        }
    });

</script>

<script type="text/javascript">
    function iScrollClick() {
        if (/iPhone|iPad|iPod|Macintosh/i.test(navigator.userAgent)) return false;
        if (/Chrome/i.test(navigator.userAgent)) return (/Android/i.test(navigator.userAgent));
        if (/Silk/i.test(navigator.userAgent)) return false;
        if (/Android/i.test(navigator.userAgent)) {
            var s = navigator.userAgent.substr(navigator.userAgent.indexOf('Android') + 8, 3);
            return parseFloat(s[0] + s[3]) < 44 ? false : true
        }
    }
    $(function () {
        FastClick.attach(document.body);
    });
    $("body").bind("touchmove",function(e){
        e.preventDefault();
    });

</script>
</body>
</html>
